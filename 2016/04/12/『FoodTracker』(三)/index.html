<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="swift," />










<meta name="description" content="ä»Šå¤©å†™çš„æ–‡ç« æ˜¯è¯´æ˜å¦‚ä½•å¢åŠ ä¸€ä¸ªç”¨æ¥è¯„åˆ†çš„ button ï¼Œbuttonçš„å¤–è§‚æ˜¯äº”é¢—æ˜Ÿæ˜Ÿï¼Œè¯„å‡ åˆ†å°±ç‚¹ç¬¬å‡ é¢—æ˜Ÿæ˜Ÿå°±è¡Œã€‚ä»£ç æ˜¯å‰å‡ å¤©å†™çš„ï¼Œä»Šå¤©æ‰å†™äº†åšå®¢ã€‚å¼€å§‹å§ã€‚ ä¸€ä¸ªæ–°çš„.swift æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†æ–°å»ºä¸€ä¸ª .swiftæ–‡ä»¶ï¼Œèµ·åä¸º RatingControl.swift  Subclass ofUIViewåˆ›å»ºè§†å›¾æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡ä»£ç å†™åˆå§‹åŒ–ä¸€ä¸ªè§†å›¾ï¼Œå¦ä¸€ç§å°±æ˜¯é€šè¿‡Storyboard">
<meta name="keywords" content="swift">
<meta property="og:type" content="article">
<meta property="og:title" content="ã€FoodTrackerã€(ä¸‰)">
<meta property="og:url" content="http://cheri.love/2016/04/12/ã€FoodTrackerã€(ä¸‰)/index.html">
<meta property="og:site_name" content="æ«ç¥ºç¥çš„å°å®¢æ ˆ">
<meta property="og:description" content="ä»Šå¤©å†™çš„æ–‡ç« æ˜¯è¯´æ˜å¦‚ä½•å¢åŠ ä¸€ä¸ªç”¨æ¥è¯„åˆ†çš„ button ï¼Œbuttonçš„å¤–è§‚æ˜¯äº”é¢—æ˜Ÿæ˜Ÿï¼Œè¯„å‡ åˆ†å°±ç‚¹ç¬¬å‡ é¢—æ˜Ÿæ˜Ÿå°±è¡Œã€‚ä»£ç æ˜¯å‰å‡ å¤©å†™çš„ï¼Œä»Šå¤©æ‰å†™äº†åšå®¢ã€‚å¼€å§‹å§ã€‚ ä¸€ä¸ªæ–°çš„.swift æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†æ–°å»ºä¸€ä¸ª .swiftæ–‡ä»¶ï¼Œèµ·åä¸º RatingControl.swift  Subclass ofUIViewåˆ›å»ºè§†å›¾æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡ä»£ç å†™åˆå§‹åŒ–ä¸€ä¸ªè§†å›¾ï¼Œå¦ä¸€ç§å°±æ˜¯é€šè¿‡Storyboard">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-06-05T07:55:53.967Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ã€FoodTrackerã€(ä¸‰)">
<meta name="twitter:description" content="ä»Šå¤©å†™çš„æ–‡ç« æ˜¯è¯´æ˜å¦‚ä½•å¢åŠ ä¸€ä¸ªç”¨æ¥è¯„åˆ†çš„ button ï¼Œbuttonçš„å¤–è§‚æ˜¯äº”é¢—æ˜Ÿæ˜Ÿï¼Œè¯„å‡ åˆ†å°±ç‚¹ç¬¬å‡ é¢—æ˜Ÿæ˜Ÿå°±è¡Œã€‚ä»£ç æ˜¯å‰å‡ å¤©å†™çš„ï¼Œä»Šå¤©æ‰å†™äº†åšå®¢ã€‚å¼€å§‹å§ã€‚ ä¸€ä¸ªæ–°çš„.swift æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†æ–°å»ºä¸€ä¸ª .swiftæ–‡ä»¶ï¼Œèµ·åä¸º RatingControl.swift  Subclass ofUIViewåˆ›å»ºè§†å›¾æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡ä»£ç å†™åˆå§‹åŒ–ä¸€ä¸ªè§†å›¾ï¼Œå¦ä¸€ç§å°±æ˜¯é€šè¿‡Storyboard">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://cheri.love/2016/04/12/ã€FoodTrackerã€(ä¸‰)/"/>





  <title>ã€FoodTrackerã€(ä¸‰) | æ«ç¥ºç¥çš„å°å®¢æ ˆ</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">æ«ç¥ºç¥çš„å°å®¢æ ˆ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-ä¸»é¡µ">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            ä¸»é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-å…³äº">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-æ ‡ç­¾">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-åˆ†ç±»">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-æ—¶é—´çº¿">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            æ—¶é—´çº¿
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/04/12/ã€FoodTrackerã€(ä¸‰)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ«ç¥ºç¥çš„å°å®¢æ ˆ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">ã€FoodTrackerã€(ä¸‰)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-12T14:47:00+08:00">
                2016-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æŠ€æœ¯/" itemprop="url" rel="index">
                    <span itemprop="name">æŠ€æœ¯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>ä»Šå¤©å†™çš„æ–‡ç« æ˜¯è¯´æ˜å¦‚ä½•å¢åŠ ä¸€ä¸ªç”¨æ¥è¯„åˆ†çš„ button ï¼Œbuttonçš„å¤–è§‚æ˜¯äº”é¢—æ˜Ÿæ˜Ÿï¼Œè¯„å‡ åˆ†å°±ç‚¹ç¬¬å‡ é¢—æ˜Ÿæ˜Ÿå°±è¡Œã€‚<br>ä»£ç æ˜¯å‰å‡ å¤©å†™çš„ï¼Œä»Šå¤©æ‰å†™äº†åšå®¢ã€‚å¼€å§‹å§ã€‚</p>
<h2 id="ä¸€ä¸ªæ–°çš„-swift-æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†"><a href="#ä¸€ä¸ªæ–°çš„-swift-æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†" class="headerlink" title="ä¸€ä¸ªæ–°çš„.swift æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†"></a>ä¸€ä¸ªæ–°çš„.swift æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†</h2><p>æ–°å»ºä¸€ä¸ª .swiftæ–‡ä»¶ï¼Œèµ·åä¸º RatingControl.swift  Subclass of<br><code>UIView</code><br>åˆ›å»ºè§†å›¾æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡ä»£ç å†™åˆå§‹åŒ–ä¸€ä¸ªè§†å›¾ï¼Œå¦ä¸€ç§å°±æ˜¯é€šè¿‡<code>Storyboard</code>ï¼Œè¿™æ¬¡è¯•ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼š<br>åœ¨ä»£ç ä¸­åšä¸ªæ³¨é‡Šï¼š<br><code>// MARK: Initialization</code><br>ç„¶åå†™ä»£ç ï¼Œlike thisï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ—¶å€™Xcodeä¼šå‘Šè¯‰ä½ æœ‰ä¸ªé”™è¯¯ï¼Œç›´æ¥ç‚¹å‡» error è€Œå <code>fix-it</code><br>ä¹‹åä»£ç å˜æˆäº†è¿™æ ·ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åå†åŠ ä¸€è¡Œä»£ç ï¼Œè®©ä½ çš„ä»£ç çœ‹ä¸Šå»åƒæ˜¯è¿™æ ·ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="æ˜¾ç¤ºè‡ªå®šä¹‰è§†å›¾"><a href="#æ˜¾ç¤ºè‡ªå®šä¹‰è§†å›¾" class="headerlink" title="æ˜¾ç¤ºè‡ªå®šä¹‰è§†å›¾"></a>æ˜¾ç¤ºè‡ªå®šä¹‰è§†å›¾</h2><p>æ‰“å¼€ Storyboard ,æ‹–ä¸€ä¸ª view å¯¹è±¡åˆ° stack ä¸­ï¼Œæ”¾åœ¨ image view ä¸‹é¢<br>ç„¶åé€‰ä¸­ view å¯¹è±¡çš„å°ºå¯¸æ£€æŸ¥å™¨ï¼ˆSize inspectorï¼‰ï¼Œåœ¨å°ºå¯¸æ£€æŸ¥å™¨æœ€ä¸‹é¢çš„åœ°æ–¹ï¼Œé€‰æ‹©<code>Placeholder</code>ï¼Œå…¶ä¸­é«˜åº¦å¡«å†™ 44ï¼Œå®½åº¦å¡«å†™ 240<br>æ¥ä¸‹æ¥ï¼Œé€‰æ‹© view å¯¹è±¡çš„èº«ä»½æ£€æŸ¥å™¨ï¼ˆIdentity inspectorï¼‰ï¼Œå°†å…¶ç¬¬ä¸€è¡Œçš„ Class é€‰ä¸º<code>RatingControl</code></p>
<h2 id="ç»™è§†å›¾ä¸­å¢åŠ -Button"><a href="#ç»™è§†å›¾ä¸­å¢åŠ -Button" class="headerlink" title="ç»™è§†å›¾ä¸­å¢åŠ  Button"></a>ç»™è§†å›¾ä¸­å¢åŠ  Button</h2><p>###åˆ›å»ºä¸€ä¸ª button<br>åœ¨åˆå§‹åŒ–å‡½æ•°ï¼ˆ<code>init?(coder:)</code>ï¼‰ä¸­ï¼Œå†™ä»£ç ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">button.backgroundColor = <span class="type">UIColor</span>.blueColor()</span><br></pre></td></tr></table></figure></p>
<p>ç¬¬ä¸€è¡Œå®šä¹‰äº†  button å¹¶ç»è¡Œäº†åˆå§‹åŒ–ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œæˆ‘ä»¬æ˜¯è¦ç”¨æ˜Ÿæ˜Ÿè¯„åˆ†ï¼Œæ‰€ä»¥è¿™ä¸ªä»£ç ç­‰ä¼šä¼šæ”¹<br>ç¬¬äºŒè¡Œæ˜¯ä¸ºäº†è®© button æ˜¾ç¤ºä¸ªé¢œè‰²ï¼Œæ–¹ä¾¿è§‚å¯Ÿï¼Œè¿™è¡Œä»£ç ç­‰ä¼šè¦åˆ æ‰<br>ç„¶åå†åŠ ä¸€è¡Œä»£ç ï¼Œç”¨æ¥æŠŠåˆ›å»ºçš„æŒ‰é’®åŠ åˆ°è§†å›¾ä¸­å»<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addSubview(button)</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨ä½ çš„ä»£ç çœ‹ä¸Šå»åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸ºäº†å‘Šè¯‰å †æ ˆè§†å›¾ï¼ˆstack viewï¼‰æ€ä¹ˆå»å¸ƒç½® button ï¼Œæˆ‘ä»¬è¦æä¾›ç»™ä»–ä¸€ä¸ªbuttonéœ€è¦å æ®çš„å°ºå¯¸ï¼Œä»£ç è¿™æ ·å†™ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">intrinsicContentSize</span><span class="params">()</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGSize</span>(width: <span class="number">240</span>, height: <span class="number">44</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨å¯ä»¥è¿è¡Œä¸€ä¸‹ä½ çš„ç¨‹åºäº†ï¼Œæ­£ç¡®çš„æ ·å­åº”è¯¥æ˜¯å›¾ç‰‡è§†å›¾ä¸‹é¢å‡ºç°äº†ä¸€ä¸ª è“è‰²çš„æ­£æ–¹å½¢</p>
<h3 id="ç°åœ¨ï¼Œç»™-button-åŠ -action"><a href="#ç°åœ¨ï¼Œç»™-button-åŠ -action" class="headerlink" title="ç°åœ¨ï¼Œç»™ button åŠ  action"></a>ç°åœ¨ï¼Œç»™ button åŠ  action</h3><p>ç»™ button åŠ ä¸Šä¸€ä¸ªåŠ¨ä½œå¾ˆç®€å•ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼šå½“æˆ‘ä»¬ç‚¹å‡» button æ—¶ï¼Œå°±ä¼šè¾“å‡ºã€ Button pressed ğŸ‘ã€<br>åšæ³•å¾ˆç®€å•ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Button pressed ğŸ‘"</span>)</span><br></pre></td></tr></table></figure></p>
<p>åŠ¨ä½œå†™å¥½äº†ï¼Œç°åœ¨è®© button çŸ¥é“è‡ªå·±æœ‰è¿™ä¹ˆä¸€ä¸ªåŠ¨ä½œè¦æ‰§è¡Œ<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>) <span class="comment">//ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦é‡‡ç”¨å“ªä¸ªactionæ–¹æ³•ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯é’ˆå¯¹å“ªç§äº‹ä»¶ï¼Œ".TouchDown"æŒ‡çš„æ˜¯ã€æŒ‰ä¸‹å»ã€è¿™ä¸ªäº‹ä»¶</span></span><br></pre></td></tr></table></figure></p>
<p><code>addTarget()</code>è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯å°†ä¸€ä¸ªæ“ä½œå¯¹è±¡å’Œæ–¹æ³•ä¸æ§ä»¶ç›¸è¿æ¥ã€‚<br>ç°åœ¨ä½ çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK :Initialization</span></span><br><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">intrinsicContentSize</span><span class="params">()</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGSize</span>(width: <span class="number">240</span>, height: <span class="number">44</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//// MARK: Button Action</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Button pressed ğŸ‘"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨è¿è¡Œä½ çš„ç¨‹åºï¼Œç‚¹å‡»è“è‰²å°æ–¹å—ï¼Œä½ å°±å¯ä»¥ä» Xcode çš„æ§åˆ¶å°çœ‹åˆ° ã€Button pressed ğŸ‘ã€ï¼Œç‚¹å¤šå°‘ä¸‹å°±æ˜¾ç¤ºå¤šå°‘è¡Œå“¦</p>
<h3 id="æ·»åŠ è¯„åˆ†å±æ€§"><a href="#æ·»åŠ è¯„åˆ†å±æ€§" class="headerlink" title="æ·»åŠ è¯„åˆ†å±æ€§"></a>æ·»åŠ è¯„åˆ†å±æ€§</h3><p>å¼€å§‹å†™ä¸€äº›å±æ€§å•¦ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: Properties</span></span><br><span class="line"><span class="keyword">var</span> rating = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> ratingButtons = [<span class="type">UIButton</span>]()</span><br></pre></td></tr></table></figure></p>
<p>åˆ°æ­¤ä¸ºæ­¢æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªbutton ï¼Œä½†æ˜¯æˆ‘ä»¬è¦åšä¸€ä¸ªäº”åˆ†åˆ¶çš„è¯„åˆ†ç³»ç»Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¤šå¼„å‡ ä¸ª buttonï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“ï¼ŒåŠ ä¸ª <code>for-in</code> å¾ªç¯å°±è¡Œ:<br>ä½ ä¹‹å‰çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨å¢åŠ ä¸€ä¸ªå¾ªç¯ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">5</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨ <code>addSubview(button)</code> ä¸Šé¢åŠ ä¸€è¡Œ<br><code>ratingButtons += [button]</code><br>è¿™ä¸€è¡Œæ˜¯ç”¨æ¥ä¿è¯ä½ åœ¨æ–°åŠ äº† button åèƒ½ä¿è¯ä½ çš„åˆ†æ•°å’Œ button æ•°èƒ½å¯¹å¾—ä¸Š</p>
<p>ç°åœ¨ä½ çš„ <code>init</code>çœ‹ä¸Šå»æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">5</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">        button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">        ratingButtons += [button]</span><br><span class="line">        addSubview(button)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###æŒ‰é’®çš„å¸ƒå±€<br>åœ¨ RatingControl.swift æ–‡ä»¶é‡Œï¼Œ <code>init?ï¼ˆcoder:ï¼‰</code>æ–¹æ³•ä¸‹é¢ï¼ŒåŠ ä¸€è¡Œæ³¨é‡Š<code>MARK: Initialization</code><br>å¹¶å†™ä¸‹ä»£ç ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼ŒåŠ ä¸Šå‡ è¡Œä»£ç <br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> button <span class="type">Frame</span> = <span class="type">CGRect</span>(x:<span class="number">0</span> ,y:<span class="number">0</span>, width:<span class="number">44</span> , height: <span class="number">44</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®æ¯ä¸€ä¸ªè¯„åˆ†æ˜Ÿæ˜Ÿçš„èµ·ç‚¹</span></span><br><span class="line"><span class="keyword">for</span>(index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">    buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (<span class="number">44</span> + <span class="number">5</span>))</span><br><span class="line">    button.frame = buttonFrame</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨ï¼ŒlayoutSubviews() æ–¹æ³•çœ‹ä¸Šå»æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Offset each button's origin by the length of the button plus spacing.</span></span><br><span class="line">    <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">        buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (<span class="number">44</span> + <span class="number">5</span>))</span><br><span class="line">        button.frame = buttonFrame</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨å¯ä»¥è¿è¡Œä¸€ä¸‹ä½ çš„ç¨‹åºäº†ï¼Œä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œä½ ä¼šçœ‹åˆ°æœ‰äº”ä¸ªè“è‰²æ­£æ–¹å½¢</p>
<h2 id="ç»™æ˜Ÿæ˜ŸæŒ‰é’®é—´è·å’Œæ˜Ÿæ˜ŸæŒ‰é’®çš„æ•°é‡åŠ ä¸Šå±æ€§"><a href="#ç»™æ˜Ÿæ˜ŸæŒ‰é’®é—´è·å’Œæ˜Ÿæ˜ŸæŒ‰é’®çš„æ•°é‡åŠ ä¸Šå±æ€§" class="headerlink" title="ç»™æ˜Ÿæ˜ŸæŒ‰é’®é—´è·å’Œæ˜Ÿæ˜ŸæŒ‰é’®çš„æ•°é‡åŠ ä¸Šå±æ€§"></a>ç»™æ˜Ÿæ˜ŸæŒ‰é’®é—´è·å’Œæ˜Ÿæ˜ŸæŒ‰é’®çš„æ•°é‡åŠ ä¸Šå±æ€§</h2><p>æ³¨æ„ï¼šå¦‚æœä½ åœ¨æ˜Ÿæ˜Ÿçš„ä¸ªæ•°å’Œæ˜Ÿæ˜Ÿé—´çš„è·ç¦»ä½¿ç”¨äº†ã€5ã€è¿™ä¸ªå€¼ï¼Œè¿™å°±æœ‰ç‚¹ç³Ÿç³•äº†ï¼Œè¦çŸ¥é“åœ¨ä»£ç ä¸­åˆ†æ•£çš„å†™æ­»æŸä¸€ä¸ªå€¼å¹¶ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œä»¥åè¦æ˜¯æƒ³æ”¹çš„è¯ï¼Œä¼šéå¸¸éš¾è¿‡ã€‚<br>æ‰€ä»¥å‘¢ï¼Œæˆ‘ä»¬åº”è¯¥å£°æ˜ä¸¤ä¸ªå€¼ï¼šæ˜Ÿæ˜Ÿçš„æ•°é‡å’Œæ˜Ÿæ˜Ÿé—´çš„è·ç¦»ã€‚</p>
<h3 id="å¢åŠ å±æ€§"><a href="#å¢åŠ å±æ€§" class="headerlink" title="å¢åŠ å±æ€§"></a>å¢åŠ å±æ€§</h3><p>åœ¨ RatingControl.swift æ–‡ä»¶é‡Œï¼Œ<code>class RatingControl(){}</code>ä¸­ï¼ŒåŠ ä¸Šä¸‹é¢çš„ä»£ç <br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: Properties</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> rating = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> ratingButtons = [<span class="type">UIButton</span>]()</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ä¸Šé¢çš„å±æ€§åé¢å†åŠ ä¸Šï¼š<br><code>let spacing  = 5</code><br>è¿™æ ·å°±å›ºå®šäº†æ˜Ÿæ˜Ÿä¹‹é—´çš„è·ç¦»<br>åœ¨ <code>layoutSubViews</code> ä¸­ï¼ŒæŠŠä½ ä¹‹å‰å†™æ­»çš„é‚£äº›å€¼éƒ½æ¢æ‰<br>ä¹‹å‰æ˜¯ï¼š   <code>buttonFrame.origin.x = CGFloat(index * (44 + 5))</code><br>ç°åœ¨æ¢æˆï¼š<code>buttonFrame.origin.x = CGFloat(index * (44 + spacing))</code><br>å½“ç„¶ï¼Œåˆ«å¿˜äº†æŠŠæ˜Ÿæ˜Ÿæ•°é‡çš„å€¼ä¹Ÿç”¨å˜é‡æ›¿æ¢ä¸€ä¸‹ï¼š<br>åœ¨å†™å±æ€§çš„åœ°æ–¹åŠ ä¸Šä¸€è¡Œä»£ç ï¼š<code>let starCount = 5</code><br>ç„¶åä¿®æ”¹ initï¼Ÿ{} æ–¹æ³•ä¸­çš„ä»£ç <br>ä¹‹å‰æ˜¯ï¼š<code>for _ in 0..&lt;5 {</code><br>ç°åœ¨æ¢æˆï¼š<code>for _ in 0 ..&lt; starCount {</code></p>
<p>ç°åœ¨è¿è¡Œä¸€ä¸‹ç¨‹åºï¼Œä¸€åˆ‡éƒ½å’Œä¹‹å‰çœ‹ä¸Šå»ä¸€æ ·</p>
<h2 id="å£°æ˜ä¸€ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºæ˜Ÿæ˜Ÿå½¢çŠ¶æŒ‰é’®çš„å°ºå¯¸"><a href="#å£°æ˜ä¸€ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºæ˜Ÿæ˜Ÿå½¢çŠ¶æŒ‰é’®çš„å°ºå¯¸" class="headerlink" title="å£°æ˜ä¸€ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºæ˜Ÿæ˜Ÿå½¢çŠ¶æŒ‰é’®çš„å°ºå¯¸"></a>å£°æ˜ä¸€ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºæ˜Ÿæ˜Ÿå½¢çŠ¶æŒ‰é’®çš„å°ºå¯¸</h2><p>ä½ åº”è¯¥è¿˜è®°å¾—æ˜Ÿæ˜Ÿå½¢çŠ¶æŒ‰é’®çš„å°ºå¯¸æ˜¯ 44 å§ï¼Œè¿™æ˜¯ä¸€ä¸ªå†™æ­»çš„å€¼ï¼Œç°åœ¨éœ€è¦æ”¹å˜è¿™ä¸ªç³Ÿç³•çš„æƒ…å†µã€‚<br>åœ¨<code>layoutSubviews()</code>æ–¹æ³•ä¸­ï¼ŒåŠ ä¸€è¡Œä»£ç ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨frame çš„é«˜åº¦å»è®¾ç½®æ­£æ–¹å½¢æŒ‰é’®çš„è¾¹é•¿</span></span><br><span class="line"><span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·ä¸€æ¥ï¼ŒæŒ‰é’®çš„å°ºå¯¸å°±æ›´åŠ çµæ´»äº†<br>ç°åœ¨æŠŠä»£ç ä¸­çš„ â€œ44â€æ›¿æ¢æˆ <code>buttonSize</code><br>æ›¿æ¢ååº”è¯¥æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: buttonSize, height: buttonSize)</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ä»ç¬¬äºŒä¸ªå¼€å§‹ï¼Œæ¯ä¸ªéƒ½å¾€åæŒª"spacing"çš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">    buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (buttonSize + spacing))</span><br><span class="line">    button.frame = buttonFrame</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨åœ¨<code>intrinsicContentSize()</code>æ–¹æ³•ä¸­è®¾ç½®ä¸€ä¸‹è¯„åˆ†æŒ‰é’®æ•´ä½“åœ¨ stack view ä¸­å æ®çš„å°ºå¯¸<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line"><span class="keyword">let</span> width = (buttonSize * starCount) + (spacing * (starCount - <span class="number">1</span>))</span><br><span class="line"><span class="keyword">return</span> <span class="type">CGRact</span>(width:width, height:buttonSize)</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥æŠŠ initï¼Ÿ{}æ–¹æ³•ä¸­çš„ç¬¬ä¸€è¡Œä»£ç æ”¹æˆä¸‹é¢çš„æ ·å­ï¼š<br><code>let button = UIButton()</code><br>å› ä¸ºä½ å·²ç»åœ¨<code>layoutSubviews() {}</code>æ–¹æ³•ä¸­è®¾ç½®å¥½ button çš„å°ºå¯¸äº†ã€‚<br>ç°åœ¨ä½ çš„ <code>layoutSubviews() {}</code>æ–¹æ³•çœ‹ä¸Šå»æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line">        <span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: buttonSize, height: buttonSize)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ä»ç¬¬äºŒä¸ªå¼€å§‹ï¼Œæ¯ä¸ªéƒ½å¾€åæŒª 5</span></span><br><span class="line">        <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">            buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (buttonSize + spacing))</span><br><span class="line">            button.frame = buttonFrame</span><br><span class="line">        &#125;</span><br><span class="line">        updateButtonsSelectionStates()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½ çš„ <code>intrinsicContentSize() -&gt;CGSize{}</code>æ–¹æ³•çœ‹ä¸Šå»æ˜¯è¿™æ ·çš„<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">intrinsicContentSize</span><span class="params">()</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line">    <span class="keyword">let</span> width = buttonSize * stars + spacing * (starCount - <span class="number">1</span>)        </span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGSize</span>(width: width, height: buttonSize)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½ çš„ initï¼Ÿ(){} å‡½æ•°çœ‹ä¸Šå»æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//MARK :Initialization</span></span><br><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span> ..&lt; starCount&#123;</span><br><span class="line">        <span class="keyword">let</span> button = <span class="type">UIButton</span>()</span><br><span class="line">        button.backgroudColor = <span class="type">UIColor</span>.blueColor()             </span><br><span class="line">        button.adjustsImageWhenHighlighted = <span class="literal">false</span>  <span class="comment">//ç”¨æ¥ç¡®ä¿ä¸ä¼šæœ‰ä¸€ä¸ªæ„å¤–çš„é«˜äº®</span></span><br><span class="line"></span><br><span class="line">        button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>) <span class="comment">//ç¬¬äºŒä¸ªå‚æ•°æ˜¯actionæ˜¯ä»€ä¹ˆæ•ˆæœï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯é’ˆå¯¹å“ªç§äº‹ä»¶ï¼Œ .TouchDown æŒ‡çš„æ˜¯ã€æŒ‰ä¸‹å»ã€è¿™ä¸ªäº‹ä»¶</span></span><br><span class="line">        ratingButtons += [button]</span><br><span class="line">        addSubview(button) <span class="comment">//å°†æˆ‘åˆ›å»ºçš„ã€Œbuttonã€æ·»åŠ åˆ°å±å¹•ä¸Š</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="æŠŠ-Button-ç°åœ¨çš„æ–¹å—å¤–è§‚æ¢æˆæ˜Ÿæ˜Ÿ"><a href="#æŠŠ-Button-ç°åœ¨çš„æ–¹å—å¤–è§‚æ¢æˆæ˜Ÿæ˜Ÿ" class="headerlink" title="æŠŠ Button ç°åœ¨çš„æ–¹å—å¤–è§‚æ¢æˆæ˜Ÿæ˜Ÿ"></a>æŠŠ Button ç°åœ¨çš„æ–¹å—å¤–è§‚æ¢æˆæ˜Ÿæ˜Ÿ</h2><p>åœ¨è¿™ï¼Œä½ éœ€è¦ä¸¤ä¸ªæ˜Ÿæ˜Ÿçš„å›¾æ ‡ï¼Œä¸€ä¸ªç©ºå¿ƒçš„ï¼Œä¸€ä¸ªå®å¿ƒçš„ï¼Œè‡ªå·±ç”»ä¸€ä¸ªæˆ–è€…å»ä¸‹è½½å§ï¼Œè®°å¾—ä¸¤ç§æ˜Ÿæ˜Ÿè¦èƒ½é‡åˆã€‚</p>
<p>###æŠŠå›¾ç‰‡åŠ å…¥åˆ°ä½ çš„é¡¹ç›®é‡Œ<br>è·å¾—è¿™ä¸¤ä¸ªæ˜Ÿæ˜Ÿçš„å›¾ç‰‡åï¼ŒæŠŠå®ƒä»¬æ”¾åˆ° Assets.xcassets ä¸­å»ï¼Œå¹¶åˆ†åˆ«èµ·åä¸ºï¼šemptyStar å’Œ filledStar<br>å¹¶ä¸”æŠŠä»–ä»¬æ‹–åˆ° â€œ2xâ€è¿™ä¸ªåœ°æ–¹æ¥ï¼Œè¿™ä¸ªå¤§å°æ¯”è¾ƒé€‚åˆ iphone 5s å’Œ 6s çš„å°ºå¯¸ã€‚<br>ä¸ºäº†çœ‹ä¸Šå»æ›´æ•´é½ï¼Œåœ¨Assets.xcassetsçš„åˆ—è¡¨ä¸­ï¼Œå³å‡»ï¼Œé€‰æ‹© New Floder ï¼Œå¹¶ä¸”ç»™è¿™ä¸ªæ–‡ä»¶å¤¹å‘½åä¸º â€œRating imageâ€ï¼Œç„¶åæŠŠä¸¤ä¸ªæ˜Ÿæ˜Ÿå›¾æ ‡éƒ½æ‹–è¿›å»ã€‚</p>
<h2 id="æŠŠæ˜Ÿæ˜Ÿå›¾æ ‡ç”¨äº-button"><a href="#æŠŠæ˜Ÿæ˜Ÿå›¾æ ‡ç”¨äº-button" class="headerlink" title="æŠŠæ˜Ÿæ˜Ÿå›¾æ ‡ç”¨äº button"></a>æŠŠæ˜Ÿæ˜Ÿå›¾æ ‡ç”¨äº button</h2><p>åœ¨ <code>RatingControl.swift</code> æ–‡ä»¶çš„ <code>initï¼Ÿ(coder:){}</code> æ–¹æ³•ä¸­ï¼ŒåŠ å…¥ä¸¤è¡Œä»£ç ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> filledStarImage = <span class="type">UIImage</span>(named: <span class="string">"filledStar"</span>)</span><br><span class="line"><span class="keyword">let</span> emptyStarImage = <span class="type">UIImage</span>(named: <span class="string">"emptyStar"</span>)</span><br></pre></td></tr></table></figure></p>
<p>ç„¶ååŠ  for-in å¾ªç¯ä¸­åŠ å…¥ä¸‹åˆ—ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.setImage(emptyStarImage, forState: .Normal)</span><br><span class="line">button.setImage(filledStarImage, forState: .Selected)</span><br><span class="line">button.setImage(filledStarImage, forState: [.Highlighted, .Selected])</span><br></pre></td></tr></table></figure></p>
<p>å¹¶åˆ æ‰ä¸‹é¢è¿™è¡Œä¹‹å‰æˆ‘ä»¬ç”¨æ¥ç»™æŒ‰é’®èµ‹äºˆé¢œè‰²çš„ä»£ç ï¼š<br><code>button.backgroundColor = UIColor.blueColor()</code><br>ç„¶åå¢åŠ ä¸€è¡Œä»£ç ç¡®ä¿ä¸ä¼šå‡ºç°æ„æ–™ä¹‹å¤–çš„é«˜äº®æ•ˆæœï¼š<br><code>button.adjustsImageWhenHighlighted = false</code><br>ç°åœ¨ï¼Œ<code>init?(coder:){}</code> æ–¹æ³•æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//MARK :Initialization</span></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> filledStarImage = <span class="type">UIImage</span>(named: <span class="string">"filledStar"</span>)</span><br><span class="line">        <span class="keyword">let</span> emptyStarImage = <span class="type">UIImage</span>(named: <span class="string">"emptyStar"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span> ..&lt; stars &#123;</span><br><span class="line">            <span class="keyword">let</span> button = <span class="type">UIButton</span>()</span><br><span class="line">            </span><br><span class="line">            button.setImage(emptyStarImage, forState: .<span class="type">Normal</span>)</span><br><span class="line">            button.setImage(filledStarImage, forState: .<span class="type">Selected</span>)</span><br><span class="line">            button.setImage(filledStarImage, forState: [.<span class="type">Highlighted</span>, .<span class="type">Selected</span>])</span><br><span class="line">            </span><br><span class="line">            button.adjustsImageWhenHighlighted = <span class="literal">false</span>  <span class="comment">//ç”¨æ¥ç¡®ä¿ä¸ä¼šæœ‰ä¸€ä¸ªæ„å¤–çš„é«˜äº®</span></span><br><span class="line"></span><br><span class="line">            button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>) <span class="comment">//ç¬¬äºŒä¸ªå‚æ•°æ˜¯actionæ˜¯ä»€ä¹ˆæ•ˆæœï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯é’ˆå¯¹å“ªç§äº‹ä»¶ï¼Œ .TouchDown æŒ‡çš„æ˜¯ã€æŒ‰ä¸‹å»ã€è¿™ä¸ªäº‹ä»¶</span></span><br><span class="line">            ratingButtons += [button]</span><br><span class="line">            addSubview(button) <span class="comment">//å°†æˆ‘åˆ›å»ºçš„ã€Œbuttonã€æ·»åŠ åˆ°å±å¹•ä¸Š</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">```   </span><br><span class="line">## æ‰§è¡Œ <span class="type">Button</span> action çš„åŠ¨ä½œ</span><br><span class="line">åœ¨` <span class="type">RatingControl</span>.swift`, æ‰¾åˆ° `ratingButtonTapped(<span class="number">_</span>:) `æ–¹æ³•:</span><br><span class="line">``` swift</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Button pressed ğŸ‘"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæŠŠ <code>print(&quot;Button pressed ğŸ‘&quot;)</code>è¿™è¡Œä»£ç æ¢æˆä¸‹åˆ—ä»£ç ï¼š<br><code>rating = ratingButtons.indexOf(button)! + 1</code></p>
<p>åœ¨<code>updateButtonSelectionStates()</code>æ–¹æ³•ä¸­åŠ ä¸€ä¸ª <code>for-in</code>å¾ªç¯<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">            button.selected = index &lt; rating  <span class="comment">//æŒ‰é’®å€¼å°äºé¢å®šå€¼æ—¶ï¼Œé€‰æ‹©æŒ‰é’®çš„å€¼</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨<code>ratingButtonTapped(_:)</code>æ–¹æ³•ä¸­çš„<code>rating = ratingButtons.indexOf(button)! + 1</code>ä¸‹é¢ï¼ŒåŠ ä¸€è¡Œä»£ç <br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button:UIButton)</span></span> &#123;</span><br><span class="line">        rating = ratingButtons.indexOf(button)! + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        updateButtonsSelectionStates()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ <code>layoutSubviews()</code> æ–¹æ³•ä¸­çš„æœ€å, åŠ ä¸Š <code>to updateButtonSelectionStates()</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line">    <span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: buttonSize, height: buttonSize)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ä»ç¬¬äºŒä¸ªå¼€å§‹ï¼Œæ¯ä¸ªéƒ½å¾€åæŒª 5</span></span><br><span class="line">    <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">        buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (buttonSize + spacing))</span><br><span class="line">        button.frame = buttonFrame</span><br><span class="line">    &#125;</span><br><span class="line">    updateButtonsSelectionStates()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ <code>// MARK: Properties</code>éƒ¨åˆ†ï¼Œæ‰¾åˆ°<br><code>var rating = 0</code><br>æŠŠå®ƒæ”¹æˆï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rating = <span class="number">0</span> &#123;</span><br><span class="line">       <span class="keyword">didSet</span> &#123;</span><br><span class="line">           setNeedsLayout()</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨ä½ çš„<code>updateButtonSelectionStates()</code> æ–¹æ³•çœ‹ä¸Šå»æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateButtonSelectionStates</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">        button.selected = index &lt; rating<span class="comment">//æŒ‰é’®å€¼å°äºé¢å®šå€¼æ—¶ï¼Œé€‰æ‹©æŒ‰é’®çš„å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="æŠŠä»£ç å’Œè§†å›¾è”ç³»èµ·æ¥"><a href="#æŠŠä»£ç å’Œè§†å›¾è”ç³»èµ·æ¥" class="headerlink" title="æŠŠä»£ç å’Œè§†å›¾è”ç³»èµ·æ¥"></a>æŠŠä»£ç å’Œè§†å›¾è”ç³»èµ·æ¥</h2><p>æŠŠ Storyboard ä¸­çš„æŒ‰é’®éƒ¨åˆ† é€šè¿‡ control-drag è¿æ¥åˆ° ViewController.swift åå­—å®šä½ â€œratingControlâ€ ç±»å‹ä¸ºâ€RatingControlâ€</p>
<h2 id="è°ƒæ•´"><a href="#è°ƒæ•´" class="headerlink" title="è°ƒæ•´"></a>è°ƒæ•´</h2><p>ç°åœ¨å¯ä»¥è‡ªç”±çš„æŠŠä½ çš„è§†å›¾è°ƒæ•´ä¸€ä¸‹äº†ï¼Œå–œæ¬¢å±…ä¸­å°±æŠŠ imageView å’Œ button Label éƒ½åœ¨å±…ä¸­ä¸€ä¸‹<br>åœ¨ ViewController.swiftæ–‡ä»¶ä¸­, åˆ äº†<code>setDefaultLabelText(_:)</code>æ–¹æ³•<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">setDefaultLabelText</span><span class="params">(sender: UIButton)</span></span> &#123;</span><br><span class="line">    mealNameLabel.text = <span class="string">"Default Text"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æœ¬éƒ¨åˆ†ç»“æŸï¼Œç°åœ¨å¯ä»¥è¿è¡Œä¸€ä¸‹ç¨‹åºå•¦ï¼<br>è¿™ä¸ªç¨‹åºå¯ä»¥ä»<a href="https://developer.apple.com/sample-code/swift/downloads/Start-Dev-iOS-Apps-05.zip" target="_blank" rel="noopener">è¿™ä¸ªé“¾æ¥</a>ä¸‹è½½åˆ°</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/swift/" rel="tag"># swift</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/04/04/ã€FoodTrackerã€(äºŒ)/" rel="next" title="ã€FoodTrackerã€(äºŒ)">
                <i class="fa fa-chevron-left"></i> ã€FoodTrackerã€(äºŒ)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/04/30/ç§¯åˆ†ç³»ç»Ÿåˆæ­¥è®¤è¯†/" rel="prev" title="ç§¯åˆ†ç³»ç»Ÿåˆæ­¥è®¤è¯†">
                ç§¯åˆ†ç³»ç»Ÿåˆæ­¥è®¤è¯† <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">fengqiyue.cheri</p>
              <p class="site-description motion-element" itemprop="description">æ«ç¥ºç¥çš„å°å®¢æ ˆï¼Œå†™åšå®¢çš„è‡ªç•™åœ°</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/fengqiyue" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:mynameiszhangxu@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸€ä¸ªæ–°çš„-swift-æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†"><span class="nav-number">1.</span> <span class="nav-text">ä¸€ä¸ªæ–°çš„.swift æ–‡ä»¶æ¥æ§åˆ¶è¯„åˆ†éƒ¨åˆ†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ˜¾ç¤ºè‡ªå®šä¹‰è§†å›¾"><span class="nav-number">2.</span> <span class="nav-text">æ˜¾ç¤ºè‡ªå®šä¹‰è§†å›¾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»™è§†å›¾ä¸­å¢åŠ -Button"><span class="nav-number">3.</span> <span class="nav-text">ç»™è§†å›¾ä¸­å¢åŠ  Button</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç°åœ¨ï¼Œç»™-button-åŠ -action"><span class="nav-number">3.1.</span> <span class="nav-text">ç°åœ¨ï¼Œç»™ button åŠ  action</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ·»åŠ è¯„åˆ†å±æ€§"><span class="nav-number">3.2.</span> <span class="nav-text">æ·»åŠ è¯„åˆ†å±æ€§</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»™æ˜Ÿæ˜ŸæŒ‰é’®é—´è·å’Œæ˜Ÿæ˜ŸæŒ‰é’®çš„æ•°é‡åŠ ä¸Šå±æ€§"><span class="nav-number">4.</span> <span class="nav-text">ç»™æ˜Ÿæ˜ŸæŒ‰é’®é—´è·å’Œæ˜Ÿæ˜ŸæŒ‰é’®çš„æ•°é‡åŠ ä¸Šå±æ€§</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å¢åŠ å±æ€§"><span class="nav-number">4.1.</span> <span class="nav-text">å¢åŠ å±æ€§</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å£°æ˜ä¸€ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºæ˜Ÿæ˜Ÿå½¢çŠ¶æŒ‰é’®çš„å°ºå¯¸"><span class="nav-number">5.</span> <span class="nav-text">å£°æ˜ä¸€ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºæ˜Ÿæ˜Ÿå½¢çŠ¶æŒ‰é’®çš„å°ºå¯¸</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŠŠ-Button-ç°åœ¨çš„æ–¹å—å¤–è§‚æ¢æˆæ˜Ÿæ˜Ÿ"><span class="nav-number">6.</span> <span class="nav-text">æŠŠ Button ç°åœ¨çš„æ–¹å—å¤–è§‚æ¢æˆæ˜Ÿæ˜Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŠŠæ˜Ÿæ˜Ÿå›¾æ ‡ç”¨äº-button"><span class="nav-number">7.</span> <span class="nav-text">æŠŠæ˜Ÿæ˜Ÿå›¾æ ‡ç”¨äº button</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŠŠä»£ç å’Œè§†å›¾è”ç³»èµ·æ¥"><span class="nav-number">8.</span> <span class="nav-text">æŠŠä»£ç å’Œè§†å›¾è”ç³»èµ·æ¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è°ƒæ•´"><span class="nav-number">9.</span> <span class="nav-text">è°ƒæ•´</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fengqiyue.cheri</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
