<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="枫祺玥的小客栈">
<meta property="og:url" content="http://cheri.love/page/6/index.html">
<meta property="og:site_name" content="枫祺玥的小客栈">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="枫祺玥的小客栈">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://cheri.love/page/6/"/>





  <title>枫祺玥的小客栈</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">枫祺玥的小客栈</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/11/13/Grunt 笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/13/Grunt 笔记/" itemprop="url">Grunt 笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-13T19:12:00+08:00">
                2016-11-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Grunt 依赖 Node.js环境， 所以在安装之前确保你安装了 Node.js。</p>
<h2 id="安装-Grunt-cli"><a href="#安装-Grunt-cli" class="headerlink" title="安装 Grunt-cli"></a>安装 Grunt-cli</h2><p>Grunt-cli 是是一个命令行工具。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g grunt-cli</span><br></pre></td></tr></table></figure></p>
<h2 id="package-json-文件"><a href="#package-json-文件" class="headerlink" title="package.json 文件"></a>package.json 文件</h2><p>‘package.json’是 Node.js 用来描述项目的一个文件，Json 格式。<br>在终端中输入<code>npm init</code>，输入<code>name</code>等信息后，就能在当前目录下生成一个’package.json’文件，像这样：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"myGrunt"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>当然，也可以拷贝一份上述’package.json’文件到文件夹中。</p>
<h2 id="安装-Grunt-插件"><a href="#安装-Grunt-插件" class="headerlink" title="安装 Grunt 插件"></a>安装 Grunt 插件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install grunt --save-dev</span><br></pre></td></tr></table></figure>
<p>其中<code>--save-dev</code>的作用是：省掉你手动修改package.json文件的步骤，自动把模块和版本号添加到devdependencies部分</p>
<p>安装完成后，你会发现 package.json文件中多了 devDependencies 的信息。<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"myGrunt"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"grunt"</span>: <span class="string">"^1.0.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="grunt-contrib-uglify-插件"><a href="#grunt-contrib-uglify-插件" class="headerlink" title="grunt-contrib-uglify 插件"></a>grunt-contrib-uglify 插件</h2><p>插件用途：压缩js,css文件 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install grunt-contrib-uglify --save-dev</span><br></pre></td></tr></table></figure>
<p>安装完成后，发现 devDependencies 中又多了一行<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"devDependencies": &#123;</span><br><span class="line">    "grunt": "^1.0.1",</span><br><span class="line">    "grunt-contrib-uglify": "^2.0.0"</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Gruntfile-js-文件"><a href="#Gruntfile-js-文件" class="headerlink" title="Gruntfile.js 文件"></a>Gruntfile.js 文件</h2><p>Grunt 有两个必备的文件，一个是 package.json ，另一个就是 Gruntfile.js。<br>通过对 Gruntfile.js 文件的设置，我们可以告诉 Grunt 它应该做哪些事情。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">grunt</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. 所有的配置将在这里进行</span></span><br><span class="line">    grunt.initConfig(&#123;</span><br><span class="line">        pkg: grunt.file.readJSON(<span class="string">'package.json'</span>),</span><br><span class="line">   <span class="comment">// 2. uglify插件的配置信息 </span></span><br><span class="line">      uglify: &#123;</span><br><span class="line">        options: &#123;</span><br><span class="line">          banner: <span class="string">'/*! This is uglify test - '</span> +</span><br><span class="line">            <span class="string">'&lt;%= grunt.template.today("yyyy-mm-dd") %&gt; */'</span>,</span><br><span class="line">          beautify: <span class="literal">true</span>,<span class="comment">//是否压缩</span></span><br><span class="line">          mangle: <span class="literal">false</span>, <span class="comment">//不混淆变量名</span></span><br><span class="line">          compress:<span class="literal">true</span>,<span class="comment">//打开或关闭使用默认选项源压缩。</span></span><br><span class="line">        &#125;,</span><br><span class="line">        app_task: &#123;</span><br><span class="line">          files: &#123;</span><br><span class="line">            <span class="string">'build/app.min.js'</span>: [<span class="string">'lib/index.js'</span>, <span class="string">'lib/test.js'</span>]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">    <span class="comment">// 3. 我们在这里告诉grunt我们将使用插件</span></span><br><span class="line">        grunt.loadNpmTasks(<span class="string">'grunt-contrib-uglify'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 我们在这里告诉grunt当我们在终端中输入grunt时需要做些什么</span></span><br><span class="line">    grunt.registerTask(<span class="string">'default'</span>, [<span class="string">'uglify'</span>]);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>说明：<br><code>banner</code>：在build/app.min.js 文件生成内容，比如日期什么的<br><code>files</code>：将 lib 目录中的 js 压缩合并生成到 build 目录中生成 app.min.js</p>
<h2 id="运行grunt"><a href="#运行grunt" class="headerlink" title="运行grunt"></a>运行grunt</h2><p>准备就绪后就可以运行 Grunt 啦<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grunt</span><br></pre></td></tr></table></figure></p>
<p>以上已经是一个完整的流程了，让我们再看看别的插件吧。</p>
<h2 id="grunt-contrib-watch-插件"><a href="#grunt-contrib-watch-插件" class="headerlink" title="grunt-contrib-watch 插件"></a>grunt-contrib-watch 插件</h2><p>插件用途：监控文件变化并自动运行grunt<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install grunt-contrib-watch --save-dev</span><br></pre></td></tr></table></figure></p>
<p>使用时，要在 Gruntfile.js 中添加对应的代码<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// watch插件的配置信息</span></span><br><span class="line">   watch: &#123;</span><br><span class="line">       another: &#123;</span><br><span class="line">           files: [<span class="string">'lib/*.js'</span>],</span><br><span class="line">           tasks: [<span class="string">'uglify'</span>],</span><br><span class="line">           options: &#123;</span><br><span class="line">               <span class="comment">// Start another live reload server on port 1337</span></span><br><span class="line">               livereload: <span class="number">1337</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>再添加一行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grunt.loadNpmTasks(&apos;grunt-contrib-watch&apos;);</span><br></pre></td></tr></table></figure></p>
<p>数组中添加 watch<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grunt.registerTask(&apos;default&apos;, [&apos;uglify&apos;,&apos;watch&apos;]);</span><br></pre></td></tr></table></figure></p>
<p>完整的 Gruntfile.js 文件如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">grunt</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. 所有的配置将在这里进行</span></span><br><span class="line">    grunt.initConfig(&#123;</span><br><span class="line">      pkg: grunt.file.readJSON(<span class="string">'package.json'</span>),</span><br><span class="line">    <span class="comment">// 2. uglify插件的配置信息 </span></span><br><span class="line">      uglify: &#123;</span><br><span class="line">        options: &#123;</span><br><span class="line">          banner: <span class="string">'/*! This is uglify test - '</span> +</span><br><span class="line">            <span class="string">'&lt;%= grunt.template.today("yyyy-mm-dd") %&gt; */'</span>,</span><br><span class="line">          beautify: <span class="literal">true</span>,<span class="comment">//是否压缩</span></span><br><span class="line">          mangle: <span class="literal">false</span>, <span class="comment">//不混淆变量名</span></span><br><span class="line">          compress:<span class="literal">true</span>,<span class="comment">//打开或关闭使用默认选项源压缩。</span></span><br><span class="line">        &#125;,</span><br><span class="line">        app_task: &#123;</span><br><span class="line">          files: &#123;</span><br><span class="line">            <span class="string">'build/app.min.js'</span>: [<span class="string">'lib/index.js'</span>, <span class="string">'lib/test.js'</span>]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">      watch: &#123;</span><br><span class="line">        another: &#123;</span><br><span class="line">            files: [<span class="string">'lib/*.js'</span>],</span><br><span class="line">            tasks: [<span class="string">'uglify'</span>],</span><br><span class="line">            options: &#123;</span><br><span class="line">                <span class="comment">// Start another live reload server on port 1337</span></span><br><span class="line">                livereload: <span class="number">1337</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">    <span class="comment">// 3. 我们在这里告诉grunt我们将使用插件</span></span><br><span class="line">    grunt.loadNpmTasks(<span class="string">'grunt-contrib-uglify'</span>);</span><br><span class="line">    grunt.loadNpmTasks(<span class="string">'grunt-contrib-watch'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 我们在这里告诉grunt当我们在终端中输入grunt时需要做些什么</span></span><br><span class="line">    grunt.registerTask(<span class="string">'default'</span>, [<span class="string">'uglify'</span>,<span class="string">'watch'</span>]);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/11/12/正则表达式笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/12/正则表达式笔记/" itemprop="url">正则表达式笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-12T21:12:00+08:00">
                2016-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="关于使用"><a href="#关于使用" class="headerlink" title="关于使用"></a>关于使用</h2><p>1.创建一个正则<br>你可以使用一个正则表达式字面量：<br><code>let re = /ab+c/;</code><br>或者调用RegExp对象的构造函数<br><code>let re = new RegExp(&quot;ab+c&quot;);</code><br>2.确定一个需要被检测的部分<br>比如：<code>let str = &#39;ababc&#39;;</code><br>\W3.检测一下这个「待测品」能否通过检验<br><code>re.test(str);</code>  //true<br>如果你运行一下 <code>re.test(str);</code> 你会得到一个<code>true</code>,说明「待测品」通过了测试。</p>
<h2 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h2><p><code>\b</code> 用于匹配一个位置，用于单词分界处<br>例子：<code>\bhi\b</code>用于查找一个单独的单词”hi”;</p>
<p><code>.</code> 用于匹配换行符外的任意字符</p>
<p><code>*</code> 该元字符前面的内容可连续重复使用任意次<br>常用组合：<code>.*</code> 匹配任意数量不包含换行符的字符。</p>
<p><code>+</code> 该元字符前面的内容可连续重复使用1次或任意次</p>
<p><code>?</code> 该元字符前面的内容可以连续重复使用0次或者1次</p>
<p><code>{n}</code> 该元字符前面的内容可以连续重复使用n次</p>
<p><code>{n,}</code> 该元字符前面的内容可以连续重复使用n次或更多次</p>
<p><code>{n, m}</code> 该元字符前面的内容可以连续重复使用 n 到 m 次</p>
<p><code>\d</code> 用来匹配一位数字<br>常用写法：<code>\d{n}</code>；例如<code>\d{2}</code>意味着<code>\d\d</code>，表示匹配两位数字；<code>\d{5}</code>表示匹配五位数字。常用组合：<code>\d+</code> 匹配一个或者多个连续的数字<br>同义词： <code>[0-9]</code>同样能匹配一位数字，和<code>\d</code>效果一样</p>
<p><code>\s</code> 用于匹配任意空白符，包括空格键，tab键和换行符</p>
<p><code>\w</code> 用于匹配 字母/数字/下划线<br>同义词：[a-z0-9A-Z_]也完全等同于\w（如果只考虑英文的话）。<br>例子：<code>\ba\w*\b</code> 用于匹配”a”开头的一个单词<br>     <code>\b\w{6}\b</code>匹配正好6个字符的单词</p>
<p><code>^</code> 匹配一个开头位置<br><code>$</code> 匹配一个结束位置<br>例子：<code>^\d{5,12}$</code> 匹配一个5到12位的数字</p>
<h2 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h2><p>当你需要查找元字符本身的话，比如你查找.,或者<em>等，直接查找就会出现问题，所以需要使用<code>\</code>来取消这些字符的特殊含义。<br>需要匹配 <code>.</code> 时，使用<code>\.</code><br>需要匹配 `</em><code>时，使用</code>*<code>需要匹配</code>` 时，使用<code>\\</code></p>
<h2 id="分枝条件"><a href="#分枝条件" class="headerlink" title="分枝条件"></a>分枝条件</h2><p>用<code>|</code>分割不同的规则，满足任一种就能被匹配<br>例子：<code>0\d{2}-\d{8} | 0\d{3}-d{7}</code>;能用来匹配两种格式的电话：010-12345678或者0571-1234567</p>
<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><p>需要重复一段正则表达式时，需要用小括号进行分组（即：指定子表达式）<br>例子：<code>(\d{1,3}){3}\d{1,3}</code>，小括号后面的<code>{3}</code>表示小括号内的内容重复三次。</p>
<h2 id="反义"><a href="#反义" class="headerlink" title="反义"></a>反义</h2><p><code>\W</code>    匹配任意不是字母，数字，下划线，汉字的字符<br><code>\S</code>    匹配任意不是空白符的字符<br><code>\D</code>    匹配任意非数字的字符<br><code>\B</code>    匹配不是单词开头或结束的位置<br><code>[^x]</code>    匹配除了x以外的任意字符<br><code>[^aeiou]</code>    匹配除了aeiou这几个字母以外的任意字符<br>例子：<code>\S+</code>匹配不包含空白符的字符串。<br><code>&lt;a[^&gt;]+&gt;</code>匹配用尖括号括起来的以a开头的字符串</p>
<h2 id="后向引用"><a href="#后向引用" class="headerlink" title="后向引用"></a>后向引用</h2><p>后向引用用于重复搜索前面某个分组匹配的文本。例如，<code>\1</code>代表分组1匹配的文本,<code>\2</code>代表分组2匹配的文本。<br>例子：<code>\b(\w+)\b\s+\1\b</code>可以用来匹配重复的单词，像hello hello, 或者hi hi。这个表达式首先是一个单词，也就是单词开始处和结束处之间的多于一个的字母或数字(<code>\b(\w+)\b</code>)，这个单词会被捕获到编号为1的分组中，然后是1个或几个空白符(<code>\s+</code>)，最后是分组1中捕获的内容（也就是前面匹配的那个单词）(<code>\1</code>)。</p>
<p>自定义组名：可以自定义组名，使用这样的语法：<code>(?&lt;Word&gt;\w+)</code>或者用<code>&#39;</code>替换尖括号：<code>(?&#39;Word&#39;\w+)</code>。<br>这样就把<code>\w+</code>的组名指定为Word了。要反向引用这个分组捕获的内容，你可以使用<code>\k&lt;Word&gt;</code>，所以上一个例子也可以写成这样：<code>\b(?&lt;Word&gt;\w+)\b\s+\k&lt;Word&gt;\b</code>。</p>
<ul>
<li>分组0对应整个正则表达式。</li>
<li>可以使用(?:exp)这样的语法来剥夺一个分组对组号分配的参与权</li>
<li>实际上组号分配过程是要从左向右扫描两遍的：第一遍只给未命名组分配，第二遍只给命名组分配－－因此所有命名组的组号都大于未命名的组号。</li>
</ul>
<h2 id="零宽断言"><a href="#零宽断言" class="headerlink" title="零宽断言"></a>零宽断言</h2><p><code>(?=exp)</code> 断言此位置之后能匹配表达式exp（零宽度正预测先行断言）<br>例子：<code>\b\w+(?=ing\b)</code> 匹配一个<code>ing</code>结尾单词前面的部分，比如匹配’learning’的’learn’</p>
<p><code>(?&lt;exp)</code> 断言此位置之前能匹配表达式exp（零宽度正回顾后发断言）<br>例子：<code>(?&lt;=\bre)\w+\b</code> 匹配一个’re’开头的单词的后面部分，比如’reading’的’ading’</p>
<h2 id="负向零宽断言"><a href="#负向零宽断言" class="headerlink" title="负向零宽断言"></a>负向零宽断言</h2><p><code>(?!exp)</code> 断言此位置后面不能匹配表达式 exp；<br>例子： <code>\b\w*q(?!u)\w*\b</code> 匹配字母’q’后面不是字母’u’的单词<br>备注：和表达式<code>\b\w*q[^u]\w*\b</code>不同的是，如果使用了<code>[^u]</code>则对于’q’出现在单词尾部的单词不能正常匹配，因为<code>[^u]</code>必须占据一位。而负向零宽断言不消费任何字符。</p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>小括号的另一种用途是通过语法(?#comment)来包含注释<br>例子：<code>2[0-4]\d(?#200-249)|25[0-5](?#250-255)|[01]?\d\d?(?#0-199)</code></p>
<h2 id="贪婪与懒惰"><a href="#贪婪与懒惰" class="headerlink" title="贪婪与懒惰"></a>贪婪与懒惰</h2><p>贪婪匹配：匹配尽可能多的字符(默认)。<br>例子：<code>a.*b</code>，它将会匹配最长的以a开始，以b结束的字符串。如果用它来搜索aabab的话，它会匹配整个字符串’aabab’。</p>
<p>懒惰匹配：匹配尽可能少的字符（只需要加上一个<code>?</code>）。<br>例子：<code>a.*?b</code>;匹配最短的，以a开始，以b结束的字符串。如果把它应用于aabab的话，它会匹配aab（第一到第三个字符）和ab（第四到第五个字符）。</p>
<h2 id="处理选项"><a href="#处理选项" class="headerlink" title="处理选项"></a>处理选项</h2><p>/i (忽略大小写)<br>/g (全文查找出现的所有匹配字符)<br>/m (多行查找)<br>/gi(全文查找、忽略大小写)<br>/ig(全文查找、忽略大小写)</p>
<p>gnoreCase(忽略大小写)：匹配时不区分大小写。</p>
<p>Multiline(多行模式)：更改^和$的含义，使它们分别在任意一行的行首和行尾匹配，而不仅仅在整个字符串的开头和结尾匹配。(在此模式下,$的精确含意是:匹配\n之前的位置以及字符串结束前的位置.)</p>
<p>Singleline(单行模式)    ：更改.的含义，使它与每一个字符匹配（包括换行符\n）。</p>
<p>IgnorePatternWhitespace(忽略空白)：忽略表达式中的非转义空白并启用由#标记的注释。</p>
<p>ExplicitCapture(显式捕获)：仅捕获已被显式命名的组。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/11/10/Compass 笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/10/Compass 笔记/" itemprop="url">Compass 笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-10T12:44:00+08:00">
                2016-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install -n /usr/local/bin compass</span><br></pre></td></tr></table></figure>
<p>使用<code>sudo gem install compass</code>会报一个下面描述的错误，所以我使用了如上的命令。<br> While executing gem … (Errno::EPERM)<br>    Operation not permitted - /usr/bin/compass</p>
<h2 id="项目初始化"><a href="#项目初始化" class="headerlink" title="项目初始化"></a>项目初始化</h2><p>创建一个名为『firstproject』的项目<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compass create firstproject</span><br></pre></td></tr></table></figure></p>
<p>进入该目录<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> firstproject</span><br></pre></td></tr></table></figure></p>
<p>里面有一个config.rb文件，这是你的项目的配置文件。还有两个子目录sass和stylesheets，前者存放Sass源文件，后者存放编译后的css文件。</p>
<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><h3 id="terminal-命令"><a href="#terminal-命令" class="headerlink" title="terminal 命令"></a>terminal 命令</h3><p>写玩 scss 文件之后，要编译成 css 文件才能应用在网页上，编译的指令是<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compass compile</span><br></pre></td></tr></table></figure></p>
<p>命令在项目根目录下运行，会将sass子目录中的scss文件，编译成css文件，保存在stylesheets子目录中。<br>默认状态下，编译出来的css文件带有大量的注释。但是，生产环境需要压缩后的css文件，这时要使用–output-style参数。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compass compile --output-style compressed</span><br></pre></td></tr></table></figure></p>
<p>Compass只编译发生变动的文件，如果你要重新编译未变动的文件，需要使用–force参数<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compass compile --force</span><br></pre></td></tr></table></figure></p>
<p>在命令行模式下，除了一次性编译命令，compass还有自动编译命令，运行该命令后，只要scss文件发生变化，就会被自动编译成css文件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compass watch</span><br></pre></td></tr></table></figure></p>
<h3 id="config-rb配置文件"><a href="#config-rb配置文件" class="headerlink" title="config.rb配置文件"></a>config.rb配置文件</h3><p>除了使用命令行参数，还可以在配置文件”config.rb”中指定编译模式。</p>
<p><code>:expanded</code>模式表示编译后保留原格式，其他值还包括:nested、:compact和:compressed。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">output_style = :expanded</span><br></pre></td></tr></table></figure></p>
<p>进入生产阶段时，就需要改为<code>:compressed</code>;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">output_style = :compressed</span><br></pre></td></tr></table></figure></p>
<p>也可以通过指定environment的值（:production或者:development），智能判断编译模式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">environment = :development</span><br><span class="line">output_style = (environment == :production) ? :compressed : :expanded</span><br></pre></td></tr></table></figure></p>
<h2 id="compass-模块"><a href="#compass-模块" class="headerlink" title="compass 模块"></a>compass 模块</h2><p>使用compass中封装的模块能够更加方便快速的编写css样式文件</p>
<h3 id="reset-模块"><a href="#reset-模块" class="headerlink" title="reset 模块"></a>reset 模块</h3><p>为了避免不同的浏览器各式各样的标准，写样式之前是要重置浏览器的默认样式的。<br>写法如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@important &quot;compass/reset&quot;;</span><br></pre></td></tr></table></figure></p>
<p>@import命令，用来指定加载模块，此处就是用来加载 reset 模块，也可以从网上下载其他的样式重置模块。</p>
<h3 id="CSS模块-和-Browser-Support-模块"><a href="#CSS模块-和-Browser-Support-模块" class="headerlink" title="CSS模块 和 Browser Support 模块"></a>CSS模块 和 Browser Support 模块</h3><p>因为浏览器内核有不止一种，所以需要提供一些css3跨浏览器的支持；在使用css3时很多时候都要调整bowser_support模块的支持。<br>举个例子：</p>
<p>####圆角<br>一般如果自己写一个圆角的效果要这样写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.rounded &#123;</span><br><span class="line">　　　　-moz-border-radius: 5px;</span><br><span class="line">　　　　-webkit-border-radius: 5px;</span><br><span class="line">　　　　-o-border-radius: 5px;</span><br><span class="line">　　　　-ms-border-radius: 5px;</span><br><span class="line">　　　　-khtml-border-radius: 5px;</span><br><span class="line">　　　　border-radius: 5px;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure></p>
<p>而我们可以使用css3模块来避免重复的工作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//scss</span><br><span class="line">@import &quot;compass/css3&quot;;  //引入CSS3模块</span><br><span class="line">.rounded &#123;</span><br><span class="line">　　　　@include border-radius(5px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">编译后的文件如下：</span><br><span class="line">//css</span><br><span class="line">.rounded &#123;</span><br><span class="line">　　　　-moz-border-radius: 5px;</span><br><span class="line">　　　　-webkit-border-radius: 5px;</span><br><span class="line">　　　　-o-border-radius: 5px;</span><br><span class="line">　　　　-ms-border-radius: 5px;</span><br><span class="line">　　　　-khtml-border-radius: 5px;</span><br><span class="line">　　　　border-radius: 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如果不需要-moz模块，这时可以调用browser模块，改变需要的模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass/support&quot;;</span><br><span class="line">//设置只支持chrome</span><br><span class="line">$supported-browsers:chrome;</span><br></pre></td></tr></table></figure></p>
<p>同时还可以指定支持浏览器的最小版本号<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$browser-minimum-versions:(&quot;ie&quot;: &quot;8&quot;);</span><br></pre></td></tr></table></figure></p>
<h4 id="透明度"><a href="#透明度" class="headerlink" title="透明度"></a>透明度</h4><p>透明（opacity）的写法为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass/css3&quot;;</span><br><span class="line">#opacity &#123;</span><br><span class="line">    @include opacity(0.5); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译过后的文件如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#opacity &#123;</span><br><span class="line">　　　　filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0.5);</span><br><span class="line">　　　　opacity: 0.5;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="行内区块"><a href="#行内区块" class="headerlink" title="行内区块"></a>行内区块</h4><p>行内区块（inline-block）的写法为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@important &quot;compass/css&quot;</span><br><span class="line">#inline-block &#123;</span><br><span class="line">    @include inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后的文件为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#inline-block &#123;</span><br><span class="line">　　 display: -moz-inline-stack;</span><br><span class="line">　　 display: inline-block;</span><br><span class="line">　　 vertical-align: middle;</span><br><span class="line">　　 *vertical-align: auto;</span><br><span class="line">　　 zoom: 1;</span><br><span class="line">    *display: inline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Typography模块"><a href="#Typography模块" class="headerlink" title="Typography模块"></a>Typography模块</h3><p>主要用来修饰一下文本样式，链接样式等</p>
<h4 id="链接-Link"><a href="#链接-Link" class="headerlink" title="链接 Link"></a>链接 Link</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//链接样式</span><br><span class="line">@import &quot;compass/typography/links&quot;;</span><br><span class="line">a&#123;</span><br><span class="line">    @include hover-link();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译后为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a &#123;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line">a:hover, a:focus &#123;</span><br><span class="line">  text-decoration: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="链接颜色-link-color"><a href="#链接颜色-link-color" class="headerlink" title="链接颜色 link-color"></a>链接颜色 link-color</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//修改不同状态下的超链接颜色</span><br><span class="line">@import &quot;compass/typography/links&quot;;</span><br><span class="line">a&#123;</span><br><span class="line">    @include link-colors(#00c, #0cc, #c0c, #ccc, #cc0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译后的文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//依次参数列表</span><br><span class="line">a &#123;</span><br><span class="line">  color: #00c;</span><br><span class="line">&#125;</span><br><span class="line">a:visited &#123;</span><br><span class="line">  color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line">a:focus &#123;</span><br><span class="line">  color: #cc0;</span><br><span class="line">&#125;</span><br><span class="line">a:hover &#123;</span><br><span class="line">  color: #0cc;</span><br><span class="line">&#125;</span><br><span class="line">a:active &#123;</span><br><span class="line">  color: #c0c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="列表布局-list"><a href="#列表布局-list" class="headerlink" title="列表布局 list"></a>列表布局 list</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass/typography/lists&quot;;</span><br><span class="line">.list-unstyled&#123;</span><br><span class="line">    @include no-bullets();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译后的CSS文件为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.list-unstyled &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">&#125;</span><br><span class="line">.list-unstyled li &#123;</span><br><span class="line">  list-style-image: none;</span><br><span class="line">  list-style-type: none;</span><br><span class="line">  margin-left: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Layout-模块"><a href="#Layout-模块" class="headerlink" title="Layout 模块"></a>Layout 模块</h3><p>该模块提供布局功能<br>比如，指定页面的footer部分总是出现在浏览器最底端：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass/layout&quot;</span><br><span class="line"># footer &#123;</span><br><span class="line">    @include &quot;sticky-footer(54px)&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后的文件为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#footer html, #footer body &#123;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">#footer #root &#123;</span><br><span class="line">  clear: both;</span><br><span class="line">  min-height: 100%;</span><br><span class="line">  height: auto !important;</span><br><span class="line">  height: 100%;</span><br><span class="line">  margin-bottom: -54px;</span><br><span class="line">&#125;</span><br><span class="line">#footer #root #root_footer &#123;</span><br><span class="line">  height: 54px;</span><br><span class="line">&#125;</span><br><span class="line">#footer #footer &#123;</span><br><span class="line">  clear: both;</span><br><span class="line">  position: relative;</span><br><span class="line">  height: 54px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>指定子元素占满父元素的空间:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass/layout&quot;;</span><br><span class="line">#stretch-full &#123;</span><br><span class="line">    @inlcude stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后的文件为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#stretch-full &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="utilities模块"><a href="#utilities模块" class="headerlink" title="utilities模块"></a>utilities模块</h3><p>该模块提供一些不属于其他模块的功能。<br>比如，清除浮动：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass/utilities&quot;</span><br><span class="line">.clearfix &#123;</span><br><span class="line">    @include clearfix </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>表格：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass/utilities&quot;;</span><br><span class="line">　　table &#123;</span><br><span class="line">　　　　@include table-scaffolding;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后生成<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">table th &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line">table td,</span><br><span class="line">    table th &#123;</span><br><span class="line">        padding: 2px;</span><br><span class="line">　　&#125;</span><br><span class="line">table td.numeric,</span><br><span class="line">table th.numeric &#123;</span><br><span class="line">    text-align: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##Helper函数<br>除了模块，Compass还提供一系列函数。<br>有些函数非常有用，比如image-width()和image-height()返回图片的宽和高。<br>再比如，inline-image()可以将图片转为data协议的数据。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;compass&quot;;</span><br><span class="line">　　.icon &#123; background-image: inline-image(&quot;icon.png&quot;);&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后得到:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　.icon &#123; background-image: url(&apos;data:image/png;base64,iBROR...QmCC&apos;);&#125;</span><br></pre></td></tr></table></figure></p>
<p>函数与mixin的主要区别是，不需要使用@include命令，可以直接调用。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/11/09/Sass/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/09/Sass/" itemprop="url">Sass 语法笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-09T19:03:00+08:00">
                2016-11-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>SASS 作为一种 CSS 的开发工具，可以有效地提高生产效率，本文对其常用语法做一个笔记，方便日后查阅。<br><a href="http://www.sassmeister.com" target="_blank" rel="noopener">官方提供的在线转换器</a></p>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>所有的变量以<code>$</code>开头；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$天依蓝: #66ccff;</span><br><span class="line">div &#123;</span><br><span class="line">    color: $天依蓝;</span><br><span class="line">&#125;</span><br><span class="line">上述代码相当于 CSS 中的：</span><br><span class="line">div &#123;</span><br><span class="line">  color: #66ccff;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如果变量出现在字符串之中，则需要使用<code>#{}</code>包裹变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$side: left;</span><br><span class="line">.rounded &#123;</span><br><span class="line">     border-#&#123;$side&#125;-radius:5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">上述代码相当于 CSS 中的：</span><br><span class="line">.rounded &#123;</span><br><span class="line">  border-left-radius: 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="计算功能"><a href="#计算功能" class="headerlink" title="计算功能"></a>计算功能</h3><p>SASS 允许使用算术式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$var: 0.5;</span><br><span class="line">body &#123;</span><br><span class="line">    margin: (14px/2);</span><br><span class="line">    right: 10px+50px;</span><br><span class="line">    width: $var * 100%;</span><br><span class="line">&#125;</span><br><span class="line">上述代码相当于 CSS 中的：</span><br><span class="line">body &#123;</span><br><span class="line">  margin: 7px;</span><br><span class="line">  right: 60px;</span><br><span class="line">  width: 50%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="嵌套写法"><a href="#嵌套写法" class="headerlink" title="嵌套写法"></a>嵌套写法</h3><p>SASS可以使用嵌套写法，比如当你想写下面的 CSS 代码时<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">div p &#123;</span><br><span class="line">    border-color:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>你可以这样写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">    p&#123;</span><br><span class="line">        border-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>属性也可以嵌套，但是要注意需要有 <code>:</code>跟在属性的后面，不能省略；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">    p&#123;</span><br><span class="line">        border:&#123;</span><br><span class="line">          color: red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">下面是另外一个例子</span><br><span class="line">div&#123;</span><br><span class="line">    p&#123;</span><br><span class="line">        border:&#123;</span><br><span class="line">          left:&#123;</span><br><span class="line">            radius: 5px;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>嵌套的代码中，可以用<code>&amp;</code>引用父级元素，比如伪类：<code>a:hover</code>可以写成：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a &#123;</span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">    color: #66ffcc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###注释<br>SASS 有三种注释</p>
<ol>
<li>单行注释 <code>//comment</code> 这种注释只保留在 SASS 源文件中，编译后就会被省略。</li>
<li>标准 CSS 注释 <code>/* comment */</code> 此种注释会保留到编译后的文件。</li>
<li>重要注释 <code>/*! 重要注释 */</code>即使是压缩模式编译，也会保留这行注释，通常可以用于声明版权信息。</li>
</ol>
<p>##代码重用</p>
<p>###继承<br>使用<code>@extend</code>进行继承<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.class&#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class2 要继承 class1</span><br><span class="line">.class2 &#123;</span><br><span class="line">    @extend .class1;</span><br><span class="line">    font-size:120%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Mixin"><a href="#Mixin" class="headerlink" title="Mixin"></a>Mixin</h3><p>类似于C语言的宏（macro），是可重用的代码块。<br>使用<code>@mixin</code>来定义一个代码块<br>使用<code>@include</code>来调用代码块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@mixin top &#123;</span><br><span class="line">    margin-top:10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    @include top;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Mixin 最强大的地方在于可以指定参数和缺省值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@mixin top($var:10px) &#123;</span><br><span class="line">    margin-top: $var;</span><br><span class="line">&#125;</span><br><span class="line">可以在使用中，根据需要传入合适的参数：</span><br><span class="line">div &#123;</span><br><span class="line">    @include top(20px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="颜色函数"><a href="#颜色函数" class="headerlink" title="颜色函数"></a>颜色函数</h3><p>SASS的颜色函数大的方面主要分为RGB、HSL和Opacity三大类函数，当然其还包括一些其他颜色函数，比如说adjust-color、change-color等等。这里记录几个常用的。</p>
<h4 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h4><h5 id="rgba-函数"><a href="#rgba-函数" class="headerlink" title="rgba()函数"></a>rgba()函数</h5><p><code>rgba()</code>函数主要用来将一个颜色根据透明度转换成rgba颜色。其语法有两种格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rgba($red,$green,$blue,$alpha)//将一个rgba颜色转译出来，和未转译的值一样</span><br><span class="line">rgba($color,$alpha) //将一个Hex颜色转换成rgba颜色</span><br></pre></td></tr></table></figure></p>
<p><code>rgba($color,$alpha)</code>,一个参数是需要转换的颜色，他可以是任何颜色的表达方式，也可以是一个颜色变量；第二个参数是颜色的透明度，其值是0~1之间。该方法主要用语的场景是：得知了一个颜色比如#f36，要给这个颜色加一个透明度；CSS中不能直接获得目标效果，而用Sass就比较容易<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//CSS</span><br><span class="line">color: rgba($f36,0.5);//这是无效的写法</span><br><span class="line"></span><br><span class="line">//SCSS</span><br><span class="line">.rgba &#123;</span><br><span class="line">    color: rgba(#f36,.5);</span><br><span class="line">&#125;</span><br><span class="line">SCSS文件转义出来就是</span><br><span class="line">.rgba &#123;</span><br><span class="line">  color: rgba(255, 51, 102, 0.5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="Mix函数"><a href="#Mix函数" class="headerlink" title="Mix函数"></a>Mix函数</h5><p><code>mix()</code>函数是将两种颜色根据一定的比例混合在一起，生成另一种颜色。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mix($color-1,$color-2,$weight);</span><br></pre></td></tr></table></figure></p>
<p><code>$color-1</code>和<code>$color-2</code>指的是你需要合并的颜色，颜色可以是任何表达式，也可以是颜色变量。<code>$weight</code>合并的比例，默认值为50%，其取值范围是0~1之间，如果取值是25%,这意味着第一个颜色所占比例为25%，第二个颜色所占比例为75%。</p>
<h4 id="HSL"><a href="#HSL" class="headerlink" title="HSL"></a>HSL</h4><p>HSL给我们带来了一个更直观的颜色控制，“HSL”所表示的是“H:色相”，“S：饱和度”，“L：亮度”。色相是在色盘上的颜色，颜色的选择是使用饱和度：“0度是红色”，“120度为绿色”和“240度为蓝色”。</p>
<p>#####lighten() &amp; darken()函数<br><code>lighten()</code>和<code>darken()</code>两个函数都是围绕颜色的亮度值做调整的，其中<code>lighten()</code>函数会让颜色变得更亮，与之相反的<code>darken()</code>函数会让颜色变得更暗。这个亮度值可以是0~1之间，不过常用的一般都在3%~20%之间。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$baseColor: #ad141e;</span><br><span class="line">.lighten &#123;</span><br><span class="line">    background: lighten($baseColor,10%);</span><br><span class="line">&#125;</span><br><span class="line">.darken&#123;</span><br><span class="line">    background: darken($baseColor,10%);</span><br><span class="line">&#125;</span><br><span class="line">转义过后的CSS代码如下：</span><br><span class="line">//CSS</span><br><span class="line">.lighten &#123;</span><br><span class="line">  background: #db1926; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.darken &#123;</span><br><span class="line">  background: #7f0f16; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="saturate-amp-desaturate-函数"><a href="#saturate-amp-desaturate-函数" class="headerlink" title="saturate() &amp; desaturate()函数"></a>saturate() &amp; desaturate()函数</h5><p>这两个函数是通过改变颜色的饱和度来得到一个新的颜色，他们和前面介绍的修改亮度得到新颜色的方法非常相似。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//SCSS</span><br><span class="line">.saturate &#123;</span><br><span class="line">  background: saturate($baseColor,30%);</span><br><span class="line">&#125;</span><br><span class="line">.desaturate &#123;</span><br><span class="line">  background: desaturate($baseColor,30%);</span><br><span class="line">&#125;</span><br><span class="line">转义过后的CSS代码如下：</span><br><span class="line">//CSS</span><br><span class="line">.saturate &#123;</span><br><span class="line">  background: #c1000d; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.desaturate &#123;</span><br><span class="line">  background: #903137; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="adjust-hue-函数"><a href="#adjust-hue-函数" class="headerlink" title="adjust-hue()函数"></a>adjust-hue()函数</h5><p>这个是通过调整颜色的色相换算一个新颜色。他需要一个颜色和色相度数值。通常这个度数值是在-360deg至360deg之间，可以是百分数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//SCSS</span><br><span class="line">.adjust-hue-deg &#123;</span><br><span class="line">  background: adjust-hue($baseColor,30deg);</span><br><span class="line">&#125;</span><br><span class="line">.adjust-hue-per &#123;</span><br><span class="line">  background: adjust-hue($baseColor,30%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//CSS</span><br><span class="line">.adjust-hue-deg &#123;</span><br><span class="line">  background: #ad5614; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.adjust-hue-per &#123;</span><br><span class="line">  background: #ad5614;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="grayscale-函数"><a href="#grayscale-函数" class="headerlink" title="grayscale()函数"></a>grayscale()函数</h5><p>这个函数会颜色的饱和度值直接调至0%，所以此函数与desaturate($color,100%)所起的功能是一样的。一般这个函数能将彩色颜色转换成不同程度的灰色。例如：</p>
<h5 id="complement-函数"><a href="#complement-函数" class="headerlink" title="complement()函数"></a>complement()函数</h5><p>complement()函数可以在原色上得到一个补充色。这个函数与adjust-hue($color,180deg)取得的效果是一样的。</p>
<p>#####invert()函数<br>invert()函数也是一个神奇的函数。根据颜色的R、G和B单独进行反相，然后合并到一起，当然其中的透度值A也可以结合进来。</p>
<p>####Opacity</p>
<p>#####alphpa()和opacity()<br>alphpa()和opacity()函数很简单，这个函数的主要功能是用来获取一个颜色的透明度值。如果颜色没有特别指定透明度，那么这两个函数得到的值都会是1。</p>
<p>#####opacify() &amp; fade-in()函数<br>这两个函数是用来对已有颜色的透明度做一个加法运算，会让颜色更加不透明。其接受两个参数，第一个参数是原始颜色，第二个参数是你需要增加的透明度值，其取值范围主要是在0~1之间。当透明度值增加到大于1时，会以1计算，表示颜色不具有任何透明度。<br>其中fade-in()函数又名fade_in()函数。其所起作用等效。</p>
<h5 id="transparentize-amp-fade-out-函数"><a href="#transparentize-amp-fade-out-函数" class="headerlink" title="transparentize() &amp; fade-out()函数"></a>transparentize() &amp; fade-out()函数</h5><p>transparentize()和fade-out()函数所起作用刚好与opacify()和fade-in()函数相反，让颜色更加的透明。这两个函数会让透明值做减法运算，当计算出来的结果小于0时会以0计算，表示全透明。</p>
<h3 id="插入文件"><a href="#插入文件" class="headerlink" title="插入文件"></a>插入文件</h3><p>使用<code>@import</code>来插入外部文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &apos;path/filename.scss&apos;</span><br></pre></td></tr></table></figure></p>
<p>如果插入的是 css 文件，那么则等同于 css 的 import 指令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;foo.css&quot;;</span><br></pre></td></tr></table></figure></p>
<p>##高级用法</p>
<p>###条件语句<br>使用 <code>@if</code>和<code>@else</code>来进行判断<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">　p &#123;</span><br><span class="line">　　　　@if 1 + 1 == 2 &#123; border: 1px solid; &#125;</span><br><span class="line">　　　　@if 1 &lt; 2 &#123; border: 2px dotted; &#125;</span><br><span class="line">　　&#125;</span><br><span class="line"></span><br><span class="line">　@if lightness($color) &gt; 30% &#123;</span><br><span class="line">　　　　background-color: #000;</span><br><span class="line">　　&#125; @else &#123;</span><br><span class="line">　　　　background-color: #fff;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure></p>
<p>###循环语句<br>循环语句有三种，<code>@for</code> <code>while</code> <code>each</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//for</span><br><span class="line">@for $i from 1 to 10 &#123;</span><br><span class="line">    .border#&#123;$i&#125;&#123;</span><br><span class="line">         border:#&#123;$i&#125;px solid red; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//while</span><br><span class="line">$i:3;</span><br><span class="line">@while $i&gt;0 &#123;</span><br><span class="line">    .item#&#123;$i&#125; &#123;</span><br><span class="line">        width:2px * $i;</span><br><span class="line">    &#125;</span><br><span class="line">    $i:$i - 1;</span><br><span class="line">&#125;</span><br><span class="line">//each</span><br><span class="line">@each $member in a, b, c, d &#123;</span><br><span class="line">    .#&#123;$member&#125; &#123;</span><br><span class="line">　　    background-image: url(&quot;/image/#&#123;$member&#125;.jpg&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###自定义函数<br>使用 <code>@function</code>定义自定义函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@function plusone($n) &#123;</span><br><span class="line">    @return $n + 1;</span><br><span class="line">&#125;</span><br><span class="line">button&#123;</span><br><span class="line">    width:plusone(19px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/11/03/FlexBox/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/03/FlexBox/" itemprop="url">FlexBox 学习记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-03T11:57:00+08:00">
                2016-11-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Flexbox 也算有比较多的属性，把它们记录一下，方便以后查看。<br>Flexbox 有两个轴，水平方向为主轴（main axia），竖直方向为辅轴，或称交叉轴（cross axis），左上为起点（start），右下为终点（end），类似于数学上的第四象限。<br>本文中的方向默认为 LTR （left to right）排版也就是从左向右为正方向的排版模式。</p>
<h2 id="容器属性"><a href="#容器属性" class="headerlink" title="容器属性"></a>容器属性</h2><p>容器属性都要写在父元素上。<br>容器属性一共有6个：<br><em>flex-direction  子项目的排列方向
</em>flex-wrap 子项目换行方案<br><em>flex-flow 前两个属性的简写
</em>justify-content 子项目沿主轴对齐方案<br><em>align-item 子项目沿辅轴对齐方案
</em>align-content 多轴线沿辅轴对齐方案</p>
<p>首先要为父容器设置 <code>display:flex</code>或<code>display:inlin-flex</code></p>
<h3 id="flex-diretion"><a href="#flex-diretion" class="headerlink" title="flex-diretion"></a>flex-diretion</h3><p>控制父容器内部项目的排列方向，<br>默认为 <code>flex-direction:row</code>，表示从左向右水平排列<br>可选值为：</p>
<ul>
<li>row-reverse ：从右向左水平排列</li>
<li>column：从上到下竖直排列</li>
<li>column-reverse：下到上竖直排列</li>
</ul>
<h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h3><p>默认情况下，子项目都排在一条线（只有一条轴线）上，<code>flex-wrap</code>属性定义，如果一条轴线排不下，如何换行。<br>默认为<code>flex-wrap:nowrap</code>,表示单行显示（也就是不换行），这时候每个子项目的宽度会被按比例压缩。<br>可选值为：</p>
<ul>
<li>wrap 换行显示，第一行在上多出来的子项目在下。</li>
<li>wrap-reverse 换行显示，第一行在下（仍然是从左向右排序）。</li>
</ul>
<h3 id="简写方式-flex-flow"><a href="#简写方式-flex-flow" class="headerlink" title="简写方式:flex-flow"></a>简写方式:flex-flow</h3><p><code>flex-flow</code>是用于同时设定<code>flex-diretion</code>和<code>flex-wrap</code>属性的简写方法，也是推荐写法<br>默认值为：<code>flex-flow:row nowrap</code><br>可以只写一个值，也可以同时写两个值，第一个值规定了<code>flex-diretion</code>，第二个值规定了<code>flex-wrap</code>,两个值用空格隔开。<br>只传入一个值的时候，会自动判断该值用于规定什么属性。</p>
<h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>用于规定主轴方向的子项目的对齐方式<br>默认值为<code>justify-content:flex-start</code>,表示：子项目沿主轴起始位置靠齐（左对齐）。<br>其他可选值为：</p>
<ul>
<li>flex-end：子项目沿主轴结束位置靠齐（右对齐）。</li>
<li>center：沿主轴的中间位置靠齐（居中）。</li>
<li>space-between：子项目会平均地分布在行里。第一个子项目位于主轴起点位置，最后一个子项目在主轴终点位置。</li>
<li>space-around：子项目会平均地分布在行里，两端保留「子项目间距的一半」的空间。</li>
</ul>
<h3 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h3><p>和 <code>justisy-content</code>类似，其规定了辅轴方向子项目的对齐方式<br>默认值为<code>justify-item:stretch</code> 表示：如果项目未设置高度或设为auto，将占满整个容器。<br>其他可选值为：</p>
<ul>
<li>flex-start：与辅轴的起点对齐（顶端对齐）。</li>
<li>flex-end：与辅轴终点对齐（底端对其）。</li>
<li>center：与辅轴轴的中点对齐（竖直居中）。</li>
<li>baseline: 项目的第一行文字的基线对齐。</li>
</ul>
<h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h3><p>定义了多根轴线的对齐方式，如果只有一根轴线（也就是<code>flex-wrap:nowrap</code>），该属性不起作用，与<code>justify-content</code>类似。<br>默认值为：<code>stretch（默认值）</code>表示轴线占满整个容器<br>其他可选值为：</p>
<ul>
<li>flex-start：与辅轴的起点对齐（顶端对齐）。</li>
<li>flex-end：与辅轴终点对齐（底端对其）。</li>
<li>center：与辅轴轴的中点对齐（竖直居中）。</li>
<li>space-between：与辅轴两端对齐，轴线之间的间隔平均分布。</li>
<li>space-around：轴线会平均地分布在行里，两端保留「轴线间距的一半」的空间。</li>
</ul>
<h2 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h2><p>项目属性一共6个</p>
<ul>
<li>order 子项目的序列号</li>
<li>flex-grow</li>
<li>flex-shrink</li>
<li>flex-basis </li>
<li>flex 上面三个flex开头的属性的简写</li>
<li>align-self</li>
</ul>
<h3 id="order"><a href="#order" class="headerlink" title="order"></a>order</h3><p>子项目的序列号，值是一个无单位的整数，数值越小，排列越靠前，序列号可以为负数。<br>默认为：0</p>
<h3 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h3><p>用来定义子项目的放大比例，值是一个无单位的整数。<br>默认为 0，表示即时有剩余空间，也不放大。<br>如果所有的子项目的<code>flex-grow</code>值都相同(比如都是1)，则它们将等分剩余空间。如果一个项目的<code>flex-grow</code>属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p>
<h3 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h3><p>用来定义子项目的收缩比例，值是一个无单位的整数，和<code>flex-grow</code>类似，负值对该属性无效<br>默认为 1，即如果空间不足，该项目将缩小。<br><code>flex-shrink</code>属性为0，则空间不足时，也不缩小。<br>如果所有子项目<code>flex-shrink</code>属性都为0,并且子项目宽度之和大于容器宽度，那么子项目会撑破容器。</p>
<h3 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h3><p><code>flex-basis</code>属性定义了在分配多余空间之前，项目占据的主轴空间（main size）<br>默认值为:auto,表示项目本来的大小。<br>它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。</p>
<h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p><code>flex</code>属性是<code>flex-grow</code>, <code>flex-shrink</code> 和 <code>flex-basis</code>的简写，默认值为0 1 auto。后两个属性可选。<br>该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。<br>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p>
<h3 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a>align-self</h3><p>用法基本和<code>align-items</code>相同，可覆盖align-items属性。<br>默认值为auto，表示继承父元素的align-items属性<br>如果没有父元素，则等同于stretch。<br>其他可选值为：</p>
<ul>
<li>flex-start：与辅轴的起点对齐（顶端对齐）。</li>
<li>flex-end：与辅轴终点对齐（底端对其）。</li>
<li>center：与辅轴轴的中点对齐（竖直居中）。</li>
<li>baseline: 项目的第一行文字的基线对齐。</li>
<li>stretch: 如果项目未设置高度或设为auto，将占满整个容器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  align-self: auto | flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/10/27/JS 字符串方法的笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/27/JS 字符串方法的笔记/" itemprop="url">JS 字符串方法的笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-27T14:05:00+08:00">
                2016-10-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="获取方法"><a href="#获取方法" class="headerlink" title="获取方法"></a>获取方法</h3><h4 id="charAt-方法"><a href="#charAt-方法" class="headerlink" title="charAt() 方法"></a>charAt() 方法</h4><p><code>charAt(index)</code>方法,传入值是一个索引，返回值为一个字符，如果未找到，则返回一个空字符串<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcde'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">2</span>));        <span class="comment">// c</span></span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">8</span>));        <span class="comment">// 空字符串</span></span><br></pre></td></tr></table></figure></p>
<h4 id="charCodeAt-方法"><a href="#charCodeAt-方法" class="headerlink" title="charCodeAt()方法"></a>charCodeAt()方法</h4><p>传入值是一个索引，返回指定位置的字符的Unicode编码；和<code>charAt()</code>方法类似，区别是一个返回字符，一个返回字符的编码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcde'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.charCodeAt(<span class="number">0</span>));        <span class="comment">//返回97</span></span><br></pre></td></tr></table></figure></p>
<h4 id="fromCharCode-方法"><a href="#fromCharCode-方法" class="headerlink" title="fromCharCode()方法"></a>fromCharCode()方法</h4><p>fromCharCode()接收一个或多个Unicode值，然后返回一个字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="built_in">String</span>.fromCharCode(<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>, <span class="number">100</span>, <span class="number">101</span>)    </span><br><span class="line"><span class="built_in">console</span>.log(str);   <span class="comment">//返回abcde</span></span><br></pre></td></tr></table></figure></p>
<h3 id="查找方法"><a href="#查找方法" class="headerlink" title="查找方法"></a>查找方法</h3><h4 id="indexOf-方法"><a href="#indexOf-方法" class="headerlink" title="indexOf()方法"></a>indexOf()方法</h4><p><code>indexOf()方法</code>用来检索指定的字符串值在字符串中首次出现的位置。<br>可以接收一个或两个参数，第一个参数表示要查找的字符串，第二个参数表示开始查找的位置，默认从起始位置开始查找<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdea'</span>;</span><br><span class="line">str.indexOf(<span class="string">'a'</span>); <span class="comment">// 0</span></span><br><span class="line">str.indexOf(<span class="string">'a'</span>,<span class="number">1</span>) <span class="comment">// 5</span></span><br><span class="line">str.indexOf(<span class="string">'cde'</span>) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></p>
<h4 id="lastIndexOf-方法"><a href="#lastIndexOf-方法" class="headerlink" title="lastIndexOf()方法"></a>lastIndexOf()方法</h4><p>lastIndexOf()语法与indexOf()类似，它返回的是一个指定的子字符串值最后出现的位置，其检索顺序是从后向前。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdeab'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.lastIndexOf(<span class="string">'a'</span>));    <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(str.lastIndexOf(<span class="string">'a'</span>, <span class="number">3</span>));    <span class="comment">//0  从第索引3的位置往前检索</span></span><br><span class="line"><span class="built_in">console</span>.log(str.lastIndexOf(<span class="string">'ab'</span>));    <span class="comment">// 5</span></span><br></pre></td></tr></table></figure></p>
<h4 id="search-方法"><a href="#search-方法" class="headerlink" title="search()方法"></a>search()方法</h4><p>用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串。<br>传入值可以是一个字符串，也可以是一个正则表达式。<br>返回值为第一个匹配的子字符串的起始位置，如果没有匹配的，则返回-1。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcDEF'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.search(<span class="string">'c'</span>));    <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(str.search(<span class="string">'d'</span>));    <span class="comment">// -1</span></span><br><span class="line"><span class="built_in">console</span>.log(str.search(<span class="regexp">/d/i</span>));    <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p>
<h4 id="match-方法"><a href="#match-方法" class="headerlink" title="match()方法"></a>match()方法</h4><p>在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。<br>传入值是子字符串或是没有进行全局匹配的正则表达式。<br>返回一个数组，该数组的第0个元素存放的是匹配文本，返回的数组含有两个对象属性index和input，分别表示<strong>匹配文本的起始字符索引</strong>和<strong>对元字符串的引用</strong>。<br>若是没有匹配到，则返回 null<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'1a2b3c4d5e'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(<span class="string">'h'</span>));    <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(<span class="string">'b'</span>));    <span class="comment">// ["b", index: 3, input: "1a2b3c4d5e"]</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(<span class="regexp">/b/</span>));    <span class="comment">// ["b", index: 3, input: "1a2b3c4d5e"]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="截取方法"><a href="#截取方法" class="headerlink" title="截取方法"></a>截取方法</h3><h4 id="substring-方法"><a href="#substring-方法" class="headerlink" title="substring()方法"></a>substring()方法</h4><p>最常用到的字符串截取方法。<br>接收一个或两个参数：要截取的开始位置和结束位置；只传入一个参数时，结束位置为字符串末尾。<br><strong>传入参数为负数时，视为传入 0。</strong><br><strong>传入的第一个参数大于第二个时，会自动把比较小的参数放在前面</strong><br>返回值为一个新字符串，内容是从start处到end-1处的所有字符。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'01234567'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.substring(<span class="number">3</span>,<span class="number">5</span>)); <span class="comment">//  34</span></span><br><span class="line"><span class="built_in">console</span>.log(str.substring(<span class="number">3</span>));  <span class="comment">//  34567 </span></span><br><span class="line"><span class="built_in">console</span>.log(str.substring(<span class="number">-1</span>)); <span class="comment">// 01234567 </span></span><br><span class="line"><span class="built_in">console</span>.log(str.substring(<span class="number">5</span>,<span class="number">3</span>)); <span class="comment">// 34</span></span><br></pre></td></tr></table></figure></p>
<h4 id="slice-方法"><a href="#slice-方法" class="headerlink" title="slice()方法"></a>slice()方法</h4><p>和 <code>substring</code>方法类似，但是可以传入负数作为参数。<br>如果参数是负数，则该参数规定的是从字符串的尾部开始算起的位置。也就是说，-1 指字符串的最后一个字符。<br><strong> 传入的第一个参数大于或者等于第二个参数时，会返回一个空字符串 </strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.slice(<span class="number">1</span>, <span class="number">4</span>));    <span class="comment">//  bcd</span></span><br><span class="line"><span class="built_in">console</span>.log(str.slice(<span class="number">-3</span>, <span class="number">-1</span>));    <span class="comment">// ef</span></span><br><span class="line"><span class="built_in">console</span>.log(str.slice(<span class="number">1</span>, <span class="number">-1</span>));    <span class="comment">// bcdef</span></span><br><span class="line"><span class="built_in">console</span>.log(str.slice(<span class="number">-1</span>, <span class="number">-3</span>));    <span class="comment">//返回空字符串</span></span><br></pre></td></tr></table></figure></p>
<h4 id="substr-方法"><a href="#substr-方法" class="headerlink" title="substr()方法"></a>substr()方法</h4><p>用于截取字符串。<br>可以传入一个或者两个参数，第一个参数表示开始位置的索引，第二个参数表示截取字符串的长度。<br>若只传入一个参数，则从开始位置一直取到字符串末尾为止。<br>若传入截取长度大于实际长度，则截取到字符串末尾为止。<br>若传入值的开始位置为负数，则从字符串末尾开始算起，即 -1 位置为字符串最后一个字符<br><strong>若传入的第二个参数小于或等于0，返回值为空字符串。</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">1</span>)); <span class="comment">// bcdefg </span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">1</span>,<span class="number">3</span>)); <span class="comment">// bcd </span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">1</span>,<span class="number">100</span>)); <span class="comment">// bcdefg </span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">-1</span>));  <span class="comment">// g</span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">1</span>, <span class="number">0</span>)); <span class="comment">// 空字符串</span></span><br></pre></td></tr></table></figure></p>
<h3 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h3><h4 id="replace-方法"><a href="#replace-方法" class="headerlink" title="replace()方法"></a>replace()方法</h4><p>用来进行字符串替换操作，它可以接收两个参数，前者为被替换的子字符串（可以是正则），后者为用来替换的文本。<br>若第一个参数为字符串或者非全局匹配的正则，那么替换只执行一次。<br>若第一个参数为全局匹配的正则，那么会进行多次替换<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdeabcde'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.replace(<span class="string">'a'</span>, <span class="string">'A'</span>)); <span class="comment">// Abcdeabcde</span></span><br><span class="line"><span class="built_in">console</span>.log(str.replace(<span class="regexp">/a/</span>, <span class="string">'A'</span>)); <span class="comment">//  Abcdeabcde</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdeabcdeABCDE'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.replace(<span class="regexp">/a/g</span>, <span class="string">'A'</span>));    <span class="comment">//返回AbcdeAbcdeABCDE</span></span><br><span class="line"><span class="built_in">console</span>.log(str.replace(<span class="regexp">/a/gi</span>, <span class="string">'$'</span>));    <span class="comment">//返回$bcde$bcde$BCDE</span></span><br></pre></td></tr></table></figure></p>
<h4 id="split-方法"><a href="#split-方法" class="headerlink" title="split()方法"></a>split()方法</h4><p>用于把一个字符串分割成字符串数组。<br>可以接收两个参数。第一个参数表示分割位置(参考符)或正则表达式，第二个参数表示返回数组的允许最大长度(一般情况下不设置)。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'a|b|c|d|e'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.split(<span class="string">'|'</span>));    <span class="comment">//返回["a", "b", "c", "d", "e"]</span></span><br><span class="line"><span class="built_in">console</span>.log(str.split(<span class="string">'|'</span>, <span class="number">3</span>));    <span class="comment">//返回["a", "b", "c"]</span></span><br><span class="line"><span class="built_in">console</span>.log(str.split(<span class="string">''</span>));    <span class="comment">//返回["a", "|", "b", "|", "c", "|", "d", "|", "e"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'a1b2c3d4e'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.split(<span class="regexp">/\d/</span>)); <span class="comment">//返回["a", "b", "c", "d", "e"]</span></span><br></pre></td></tr></table></figure></p>
<h4 id="toLowerCase-和toUpperCase"><a href="#toLowerCase-和toUpperCase" class="headerlink" title=") toLowerCase()和toUpperCase()"></a>) toLowerCase()和toUpperCase()</h4><p>toLowerCase()方法可以把字符串中的大写字母转换为小写。<br>toUpperCase()方法可以把字符串中的小写字母转换为大写。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'JavaScript'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.toLowerCase());    <span class="comment">//返回javascript</span></span><br><span class="line"><span class="built_in">console</span>.log(str.toUpperCase());    <span class="comment">//返回JAVASCRIPT</span></span><br></pre></td></tr></table></figure>
<h4 id="toFixed"><a href="#toFixed" class="headerlink" title="toFixed()"></a>toFixed()</h4><p>toFixed() 方法可把 Number 四舍五入为指定小数位数的数字。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NumberObject.toFixed(num)</span><br></pre></td></tr></table></figure></p>
<p><code>num</code>是 0 ~ 20 之间的值，包括 0 和 20;缺省值是 0;<br>当调用该方法的对象不是 Number 时抛出 TypeError 异常<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(123).toFixed(2)  //  &quot;123.00&quot;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/10/26/Manacher算法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/26/Manacher算法/" itemprop="url">Manacher 算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-26T18:35:00+08:00">
                2016-10-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天思考一道题的时候，学习了一些思路，其中 Manacher 算法很有必要记录下来。<br>这道题的内容是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">给定字符串，找到它的最长回文子串</span><br></pre></td></tr></table></figure></p>
<p>最简单的思路莫过于找到给定字符串的所有子字符串，然后一个个的判断他们是否是回文字符串，在判断的时候用一个变量把最长的回文字符串记录下来就可以了；<br>判断是不是回文字符串很容易<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPalindrome</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> newStr = str.split(<span class="string">""</span>).reverse().join(<span class="string">""</span>);</span><br><span class="line"><span class="keyword">return</span> newStr === str ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>获得所有子串也很容易<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSubstring</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = str.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j=i; j&lt;len;j++)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(str.substring(i,j+<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这种简单粗暴的算法带来的后果就是：查找子串时间复杂度O(n^2),判断回文时间复杂度O(n)，太费时间；浪费时间的主要原因是没有充分地利用获得的信息。</p>
<p>————————————————————分界线————————————————————————</p>
<p>Manacher算法非常巧妙，使用了一些辅助技巧使得整个算法的时间复杂度变为线性。<br>我们先明确两件事：</p>
<ul>
<li>一个字符串是回文字符串，其中间位置为m。若他的子串S[i,i+x]为回文串，则相对于m对称的另一端子串S[2m-i, 2m-(i+x)]必然是回文串。</li>
<li>回文串必定是中心对称的，也就是：S[i] == S[2m-i]。</li>
</ul>
<p>首先，Manacher算法使用了如下的一个技巧让我们不用考虑字符串的奇偶性问题：<br><strong>每一个字符两边都加上一个特殊字符</strong>,比如以字符串”abba”为例，转换后变成”#a#b#b#a#”。这样一来字符串无论本来是奇数还是偶数，都会变成奇数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNewString</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newStr = <span class="string">'#'</span>;   </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;len;i++)&#123;  </span><br><span class="line">        newStr += str[i]+<span class="string">'#'</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后设置了一个概念：创建一个新数组P, P[i]项表示以第i个字符为中心的回文字串的半径。比如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">S  #  a  #  b  #  b  #  a  #  </span><br><span class="line">P  1  2  1  2  5  2  1  2  1</span><br></pre></td></tr></table></figure></p>
<p>通过表格可以发现，P[i]-1就是实际回文字串的长度（对应的是符号还是数字都没关系）。<br>所以我们的任务转化为了求解数组 P；<br>求解数组 P 是本算法核心，根据我的理解，将其概括为如下：<br>设置两个辅助参数：id 和 max;id表示当前边界最大的回文字符串的中心位置，max此回文字符串的边界值也就是<code>id+p[i]</code>；<br>初始化一边数组P:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;newLen;i++)&#123;  </span><br><span class="line">       p[i] = <span class="number">0</span>;  </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>接下来开始讨论:<br>记 i 对应于中心点 id 的对应位置为j，即<code>j = 2*id - i</code>;<br>如果当前已记载的最大边境max &gt; i(即i位置是已知回文字符串内的一个位置)，那么:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p[i] = Math.min(p[j], mx-i);</span><br></pre></td></tr></table></figure></p>
<p>取比较小的值;i在id左边时，p[j]始终为0，是较小的值, i在id右边时则不一定。<br>目前确定的P[i]是回文半径范围能能确定的值，对于半径外的字符,因为不知能能否和已知回文串继续构成更大回文串，所以也要进行判断。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> ((newStr[i + p[i]] == newStr[i - p[i]]) &amp;&amp; newStr[i + p[i]])&#123;  </span><br><span class="line">            p[i]++;  </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>最后一步，当有更大的回文串出现时，更新max 和 id 的值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (i + p[i] &gt; mx) &#123;  </span><br><span class="line">            id = i;  </span><br><span class="line">            mx = id + p[i];  </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<p>##整体代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArrayP</span>(<span class="params">str</span>)</span>&#123;  </span><br><span class="line">    <span class="keyword">var</span> p = [],   </span><br><span class="line">        mx = <span class="number">0</span>,  </span><br><span class="line">        id = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">var</span> i;  </span><br><span class="line">     </span><br><span class="line">    <span class="keyword">var</span> newStr = <span class="string">'#'</span>;       <span class="comment">// 将字符串转化为奇数长度获取到新的字符串 </span></span><br><span class="line">    <span class="keyword">var</span> len = str.length;  </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;len;i++)&#123;  </span><br><span class="line">        newStr += str[i]+<span class="string">'#'</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> newLen = newStr.length;  </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;newLen;i++)&#123;  </span><br><span class="line">        p[i] = <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 获取到所有的子回文的长度值组成的数组  </span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>;i &lt; newLen; i++) &#123;  </span><br><span class="line">        </span><br><span class="line">        p[i] = mx &gt; i ? <span class="built_in">Math</span>.min(p[<span class="number">2</span>*id-i], mx-i) : <span class="number">1</span>;   </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> ((newStr[i + p[i]] == newStr[i - p[i]]) &amp;&amp; newStr[i + p[i]])&#123;           <span class="comment">// 超出其半径的位置再做额外判断  </span></span><br><span class="line"></span><br><span class="line">            p[i]++;  </span><br><span class="line">        &#125;  </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 当有更大的回文串出现时，更新中心位置和最大边界值</span></span><br><span class="line">        <span class="keyword">if</span> (i + p[i] &gt; mx) &#123;  </span><br><span class="line">            id = i;  </span><br><span class="line">            mx = id + p[i];  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> p;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>获得数组 p 之后，我们就获取到P的最大值，上面的例子中，最大值是 p[4] = 5;因为回文半径算了自己在内，所以要减去1,所以回文字符串应该是从newStr[4-4]起，到newStr[4+4]为止。用<code>newStr.subString(0，8)</code>方法获得字符串后，再去掉『#』符号就可以了；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newstr.subString(0, 8).split(&apos;#&apos;).join(&quot;&quot;);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/10/22/动画效果的一种实现方式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/22/动画效果的一种实现方式/" itemprop="url">一种动画效果的实现方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-22T20:44:00+08:00">
                2016-10-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>bilibili上有个小小的动画，很有趣，效果是这样的：当你把鼠标移动到一个横着的手机图案上时，这个手机图案就会立起来，动画很呆萌。我对它的实现比较好奇，于是看了一下网页代码，发现实现起来挺简单的；原来这个地方使用了一条很长的图作为背景图，原理就是通过多次修改这个图案的<code>style.backgroundPositionX</code>属性，让这个图『动起来』。</p>
<p><img src="http://static.hdslb.com/images/base/anim-app.png" alt="长图"></p>
<p>我稍微的实现了一下，能看个效果<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>动画实现的一种方式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">i</span> <span class="attr">id</span> = <span class="string">"smallTV"</span> <span class="attr">style</span>=<span class="string">"display: block; background-image: url('http://static.hdslb.com/images/base/anim-app.png'); width: 80px; height: 80px; background-position: 0px 0px; position:absolute ;cursor:pointer"</span> <span class="attr">onmouseover</span>=<span class="string">"star()"</span> <span class="attr">onmouseout</span>=<span class="string">"stop()"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> tv = <span class="built_in">document</span>.getElementById(<span class="string">"smallTV"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> theWidth = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> changeStar, changeStop; <span class="comment">//用于存放 setInterval() 方法</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				clearInterval(changeStop);<span class="comment">//一旦鼠标移入，就停止鼠标移出时的动画</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">				changeStar = setInterval(changeTheWidthStar,100);</span></span><br><span class="line"><span class="undefined">				theWidth=0;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">stop</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				clearInterval(changeStart);   <span class="comment">//一旦鼠标移开，就停止鼠标进入时的动画</span></span></span><br><span class="line"><span class="undefined">				</span></span><br><span class="line"><span class="undefined">				changeStop = setInterval(changeTheWidthStop,100);</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">changeTheWidthStart</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				theWidth -= <span class="number">80</span>;   <span class="comment">//这个数字是根据那个长长的图片来确定的。</span></span></span><br><span class="line"><span class="javascript">			    tv.style.backgroundPositionX = theWidth + <span class="string">"px"</span>;	</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			    <span class="keyword">while</span>(theWidth &lt;= <span class="number">-1280</span>) &#123;</span></span><br><span class="line"><span class="undefined">			    	theWidth = -800;</span></span><br><span class="line"><span class="undefined">			    	theWidth -= 80;</span></span><br><span class="line"><span class="javascript">			    	tv.style.backgroundPositionX = theWidth + <span class="string">"px"</span>;	</span></span><br><span class="line"><span class="undefined">			    &#125;	</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">changeTheWidthStop</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(theWidth&lt; <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="undefined">					theWidth += 80;</span></span><br><span class="line"><span class="javascript">				    tv.style.backgroundPositionX = theWidth + <span class="string">"px"</span>;		</span></span><br><span class="line"><span class="javascript">				&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">					clearInterval(changeStop);</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>所有的代码都在文章中写出来了，<a href="https://github.com/fengqiyue/aSimpleAnimation" target="_blank" rel="noopener">github的地址点此</a>。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/10/20/一道字符串翻转题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/20/一道字符串翻转题/" itemprop="url">一道字符串翻转题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-20T21:16:00+08:00">
                2016-10-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在网上看到了一道C语言的题，采用了三步翻转法实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">给定一个字符串，要求把字符串前面的若干个字符移动到字符串的尾部，如把字符串“abcde”前面的2个字符&apos;a&apos;和&apos;b&apos;移动到字符串的尾部，使得原字符串变成字符串“cdeab”。请写一个函数完成此功能，要求对长度为n的字符串操作的时间复杂度为 O(n)，空间复杂度为 O(1)。</span><br></pre></td></tr></table></figure></p>
<p>##三步翻转法：<br>把一个字符串分成X，Y两部分，先把X部分翻转，再把Y部分翻转，最后再把XY一起翻转；比如”abcde”分成”ab”，”cde”两部分，”ab”部分翻转为”bc”，”cde”翻转为”edc”<br>两部分合在一起为”baedc”再翻转一次，变为”cdeab”。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReverseString</span><span class="params">(<span class="keyword">char</span>* s,<span class="keyword">int</span> from,<span class="keyword">int</span> to)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (from &lt; to)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> t = s[from];</span><br><span class="line">        s[from++] = s[to];</span><br><span class="line">        s[to--] = t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LeftRotateString</span><span class="params">(<span class="keyword">char</span>* s,<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m %= n;               <span class="comment">//若要左移动大于n位，那么和%n 是等价的</span></span><br><span class="line">    ReverseString(s, <span class="number">0</span>, m - <span class="number">1</span>); <span class="comment">//反转[0..m - 1]，套用到上面举的例子中，就是X-&gt;X^T，即 abc-&gt;cba</span></span><br><span class="line">    ReverseString(s, m, n - <span class="number">1</span>); <span class="comment">//反转[m..n - 1]，例如Y-&gt;Y^T，即 def-&gt;fed</span></span><br><span class="line">    ReverseString(s, <span class="number">0</span>, n - <span class="number">1</span>); <span class="comment">//反转[0..n - 1]，即如整个反转，(X^TY^T)^T=YX，即 cbafed-&gt;defabc。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实际上，用js实现起来不需要用这个思路，直接用 <code>sclie()</code>剪出来在拼接会方便很多。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"abcde"</span>;</span><br><span class="line"><span class="keyword">var</span> str1 = str.slice(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">var</span> str2 = str.slice(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">var</span> newStr = str2 + str1;</span><br><span class="line"></span><br><span class="line">alert(newStr);   <span class="comment">//cdeab</span></span><br></pre></td></tr></table></figure></p>
<p>但是因为心情好，还是照着写了 js 实现的版本<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">"abcde"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverseString</span>(<span class="params">str,from, to</span>)</span>&#123;</span><br><span class="line">	str = string;</span><br><span class="line">	splitStr = str.split(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">from</span> &lt; to)&#123;                  <span class="comment">//翻转</span></span><br><span class="line">    	<span class="keyword">var</span> temp = splitStr[<span class="keyword">from</span>];</span><br><span class="line">    	splitStr[<span class="keyword">from</span>++] = splitStr[to]</span><br><span class="line">    	splitStr[to--] = temp;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    string = splitStr.toString();</span><br><span class="line">    string = string.replace(<span class="regexp">/,/g</span>, <span class="string">""</span>); <span class="comment">// 去掉字符串中的逗号 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">leftRotateString</span>(<span class="params">str, n ,m</span>)</span>&#123;   <span class="comment">//字符串长度为n，要把m个字符移动到末尾</span></span><br><span class="line">	m %= n;   <span class="comment">//确保 m &lt; n</span></span><br><span class="line"></span><br><span class="line">	reverseString(str, <span class="number">0</span>, m - <span class="number">1</span>); <span class="comment">//套用在例子中就是 ab-&gt;ba</span></span><br><span class="line">    reverseString(str, m, n - <span class="number">1</span>); <span class="comment">//cdef-&gt;fedc</span></span><br><span class="line">    reverseString(str, <span class="number">0</span>, n - <span class="number">1</span>); <span class="comment">//cbafed-&gt;defabc。</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(leftRotateString(string, <span class="number">5</span>, <span class="number">2</span>)) <span class="comment">// "cdeab"</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/10/19/JS 数组方法的笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/19/JS 数组方法的笔记/" itemprop="url">JS 数组方法的笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-19T11:11:00+08:00">
                2016-10-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="重排序"><a href="#重排序" class="headerlink" title="重排序"></a>重排序</h3><p>####<code>reverse()</code>方法<br>翻转数组向的顺序<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">values.reverse();</span><br><span class="line"></span><br><span class="line">alert(values); <span class="comment">//5, 4, 3, 2, 1</span></span><br></pre></td></tr></table></figure></p>
<h4 id="sort-方法"><a href="#sort-方法" class="headerlink" title="sort()方法"></a><code>sort()</code>方法</h4><p>调用每一项的<code>toString()</code>然后比较得到的字符串,返回值仍是数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>];</span><br><span class="line">values.sort();</span><br><span class="line"></span><br><span class="line">alert(values);   <span class="comment">//0, 1, 10, 15, 5</span></span><br></pre></td></tr></table></figure></p>
<p><code>sort()</code>可以接收一个比较函数作为参数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1, value2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value1 &lt; value2) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(value1 &gt; value2) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>];</span><br><span class="line">values.sort(compare);</span><br><span class="line"></span><br><span class="line">alert(values);   <span class="comment">//0, 1, 5, 10, 15</span></span><br></pre></td></tr></table></figure>
<h3 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h3><h4 id="concat-方法"><a href="#concat-方法" class="headerlink" title="concat() 方法"></a><code>concat()</code> 方法</h4><p>该方法先创建当前数组的一个副本，然后将接收到的数组添加到这个副本的末尾，最后<strong>返回一个新构建的数组</strong>。当传入值不是数组的时候，该方法会将传入的值简单的添加到结果数组末尾。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = [<span class="string">"red"</span>, <span class="string">"yellow"</span>, <span class="string">"blue"</span>];</span><br><span class="line"><span class="keyword">var</span> color2 = color.concat(<span class="string">"green"</span>, [<span class="string">"black"</span>, <span class="string">"white"</span>]);</span><br><span class="line"></span><br><span class="line">alert(color); <span class="comment">// red, yellow, blue</span></span><br><span class="line">alert(color2); <span class="comment">//  red, yellow, blue , green , black, white</span></span><br></pre></td></tr></table></figure></p>
<h4 id="slice-方法"><a href="#slice-方法" class="headerlink" title="slice()方法"></a><code>slice()</code>方法</h4><p><code>slice()</code>方法不会影响原数组。<br>可以不接收参数或者接收一个或者两个参数；<br><strong> 不接收参数的情况：能被用来让一个类数组对象转换成数组 </strong><br><strong> 和<code>concat()</code>一样可以实现数组数据浅拷贝,注意：如果数组的内容是基础类型，则新数组和老数组互不影响，如果数组的内容是对象等引用类型，则就会只拷贝对象和数组的引用，这样我们无论在新旧数组进行了修改，两者都会发生变化 </strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice.call(&#123; <span class="number">0</span>: <span class="string">'a'</span>, <span class="number">1</span>: <span class="string">'b'</span>, <span class="attr">length</span>: <span class="number">2</span> &#125;); <span class="comment">// ['a', 'b']</span></span><br></pre></td></tr></table></figure></p>
<p>接收参数的情况下：</p>
<ul>
<li>接收一个参数：数组返回从该参数指定位置开始到当前数组末尾的所有项；</li>
<li>接受两个参数：数组返回从第一个参数指定位置开始到第二个参数指定的位置为止的所有项（但不包括第二个参数所指定的项）。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>, <span class="string">"yellow"</span> ,<span class="string">"purple"</span>];</span><br><span class="line"><span class="keyword">var</span> color1 = color.slice(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> color2 = color.slice(<span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">alert(color1)  <span class="comment">// green, blue, yellow, purple</span></span><br><span class="line">alert(color2)  <span class="comment">// green, blue, yellow</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>当第一个参数为0 ，第二个参数大于或等于 <code>Array.length</code>时，会返回原数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>, <span class="string">"yellow"</span> ,<span class="string">"purple"</span>];</span><br><span class="line">color.slice(<span class="number">0</span>, color.length);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(color.slice(<span class="number">0</span>, color.length)); </span><br><span class="line"><span class="comment">//["red", "green", "blue", "yellow", "purple"]</span></span><br></pre></td></tr></table></figure></p>
<h4 id="splice-方法"><a href="#splice-方法" class="headerlink" title="splice()方法"></a><code>splice()</code>方法</h4><p>功能强大，用法较多；主要用途是向数组的中部插入项。<br><strong><code>splice()</code>方法始终返回一个数组，该数组包含被删除的项；没有删除项时，则返回一个空数组。</strong><br>可以接受两个或者三个及以上参数；</p>
<ul>
<li><p>接收两个参数：第一个参数表示：要删除的项中第一项的位置，第二个参数表示要删除的项的个数；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = [<span class="string">"red"</span>, <span class="string">"yellow"</span>, <span class="string">"blue"</span>];</span><br><span class="line"><span class="keyword">var</span> removed = color.splice(<span class="number">2</span>,<span class="number">1</span>); <span class="comment">//从数组下标为2的项起，删除1项</span></span><br><span class="line"></span><br><span class="line">alert(removed); <span class="comment">//blue</span></span><br><span class="line">alert(color); <span class="comment">//red, yellow</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>接收三个及以上参数：第一个参数表示：要删除的项中第一项的位置，第二个参数表示要删除的项的个数(不需要删除项时，第二个参数可为0)；第三个参数表示要添加的项；如果要添加更多项，还可以有第四个、第五个以及更多的参数；</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = [<span class="string">"red"</span>, <span class="string">"yellow"</span>, <span class="string">"blue"</span>];</span><br><span class="line"><span class="keyword">var</span> removed = color.splice(<span class="number">0</span>,<span class="number">0</span>,<span class="string">"green"</span>,<span class="string">"white"</span>); <span class="comment">//从第一项开始，删除0项，添加两项</span></span><br><span class="line"></span><br><span class="line">alert(removed); <span class="comment">// 弹出的窗口什么都不显示，因为没有删除任何项,返回值是一个空数组</span></span><br><span class="line">alert(color);  <span class="comment">// green, white, red, yellow, blue</span></span><br></pre></td></tr></table></figure>
<h4 id="join-方法join"><a href="#join-方法join" class="headerlink" title="join() 方法join"></a>join() 方法join</h4><p><code>join()</code> 方法用于把数组中的所有元素放入一个字符串，返回的是字符串。<br>可以传入一个参数，也可以省略该参数。传入的参数用于指定字符串的分隔符，省略该参数时，用逗号作为分隔符。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>];</span><br><span class="line">arr.join();  <span class="comment">//"1, 2, 3, 4, 5"</span></span><br><span class="line">arr.join(<span class="string">''</span>); <span class="comment">//"12345";</span></span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">### shift() 方法</span></span><br><span class="line"><span class="string">`</span>shift()<span class="string">` 方法从数组中删除第一个元素，并**返回被删除元素的值**。此方法更改数组的长度。</span></span><br><span class="line"><span class="string">PS:如果数组为空则返回undefined 。 </span></span><br><span class="line"><span class="string">#### unshift() 方法</span></span><br><span class="line"><span class="string">`</span>unshift()<span class="string">` 方法可向数组的开头添加一个或更多元素，并**返回新的长度**</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 位置方法</span></span><br><span class="line"><span class="string">#### `</span>indexOf()<span class="string">`和`</span>lastIndexOf()<span class="string">`方法</span></span><br><span class="line"><span class="string">都接收两个参数：要查找的项和查找起点位置的索引(可选)；</span></span><br><span class="line"><span class="string">`</span>indexOf()<span class="string">`方法从索引为0的位置开始查找(传入第二个参数时，查找起始位置为第二个参数指定的位置)</span></span><br><span class="line"><span class="string">`</span>lastIndexOf()<span class="string">`方法从数组末尾开始（传入第二个参数时，查找起始位置为第二个参数指定的位置）</span></span><br><span class="line"><span class="string">两种方法都返回要查找的项在数组中的位置；若未找到，则返回 -1；（在比较数组中的每一项时，会使用全等符号`</span>===<span class="string">`进行比较）；</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span> javascript</span><br><span class="line"><span class="keyword">var</span> number = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">alert(number.indexOf(<span class="number">3</span>)); <span class="comment">// 2</span></span><br><span class="line">alert(number.lastIndexOf(<span class="number">3</span>)); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line">alert(number.indexOf(<span class="number">4</span>,<span class="number">4</span>)); <span class="comment">// 5</span></span><br><span class="line">alert(number.lastIndexOf(<span class="number">4</span>,<span class="number">4</span>)); <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> people = [&#123;<span class="attr">name</span>:<span class="string">"cheri"</span>&#125;];</span><br><span class="line"><span class="keyword">var</span> person =  &#123;<span class="attr">name</span>:<span class="string">"cheri"</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> morePeople = [person];</span><br><span class="line"></span><br><span class="line">alert(people.indexOf(person)); <span class="comment">// -1 未找到</span></span><br><span class="line">alert(more.indexOf(person)); <span class="comment">// 0 在第一个位置找到</span></span><br></pre></td></tr></table></figure></p>
<h3 id="迭代方法"><a href="#迭代方法" class="headerlink" title="迭代方法"></a>迭代方法</h3><p>ES5为数组定义了五种迭代方法，每个方法都接收两个参数：要在每一项上运行的函数 和 该函数运行的作用域对象。传入的函数接收三个参数：数组项的值，该项在数组中的位置，数组对象本身。</p>
<h4 id="every-方法"><a href="#every-方法" class="headerlink" title="every()方法"></a><code>every()</code>方法</h4><p>对数组中的每一项都运行给定的函数，如果每次都返回 true，则该方法返回 true</p>
<h4 id="some-方法"><a href="#some-方法" class="headerlink" title="some()方法"></a><code>some()</code>方法</h4><p>和<code>every()</code>方法非常类似，对数组中的每一项都运行给定的函数；区别为：如果任何一次返回 true，则该方法返回 true<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> everyResult = numbers.every(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item &gt; <span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> someResult = number.some(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item &gt; <span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">alert(everyResult);  <span class="comment">// false</span></span><br><span class="line">alert(someResult);   <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<h4 id="filter-方法"><a href="#filter-方法" class="headerlink" title="filter()方法"></a><code>filter()</code>方法</h4><p>对数组中的每一项运行指定函数，返回值为一个数组，该数组的项由指定函数返回 true 的项组成；<br>该方法利用指定的函数来筛选掉不符合要求的项；<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> filterResult = numbers.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item &gt; <span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">alert(filterResult); <span class="comment">// 3,4,5</span></span><br></pre></td></tr></table></figure></p>
<p><strong><code>filter()</code>方法 不会应用到缺少的元素上</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">    arr[<span class="number">10</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> r = arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123; <span class="keyword">return</span> x === <span class="literal">undefined</span>;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(r);   <span class="comment">//[]</span></span><br></pre></td></tr></table></figure></p>
<h4 id="map-方法"><a href="#map-方法" class="headerlink" title="map()方法"></a><code>map()</code>方法</h4><p><code>map()</code>方法返回一个数组，该数组的项由原数组每一项经过传入的函数运算后的结果组成。<br>传入的函数可以接受三个参数：当前值，项的索引，当前数组对象。<br><strong><code>map()</code>只能被初始化过的数组成员调用</strong>。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> mapResult = numbers.map(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item + <span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">alert(mapResult);  <span class="comment">// 2, 3, 4, 5, 6</span></span><br></pre></td></tr></table></figure></p>
<h4 id="forEach-方法"><a href="#forEach-方法" class="headerlink" title="forEach()方法"></a><code>forEach()</code>方法</h4><p>对数组中的每一项运行给定方法，该方法无返回值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> letters = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> forEachResult = letters.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"value:"</span> + item + <span class="string">" index:"</span> + index);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//value:a index:0</span></span><br><span class="line"><span class="comment">//value:b index:1</span></span><br><span class="line"><span class="comment">//value:c index:2</span></span><br><span class="line">alert(forEachResult)   <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p>
<h4 id="entries-方法"><a href="#entries-方法" class="headerlink" title="entries()方法"></a><code>entries()</code>方法</h4><p>ES2015新增，方法返回一个新的Array Iterator对象<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> iterator = arr.entries();</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator);</span><br><span class="line"><span class="comment">// Array Iterator &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); </span><br><span class="line"><span class="comment">// [0, "a"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); </span><br><span class="line"><span class="comment">// [1, "b"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); </span><br><span class="line"><span class="comment">// [2, "c"]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="归并方法"><a href="#归并方法" class="headerlink" title="归并方法"></a>归并方法</h3><p><code>reduce()</code>方法和<code>reduceRight()</code>方法都会迭代数组的所有项，然后构建一个最终返回的值。<code>reduce()</code>方法从数组的第一项开始，逐一遍历到最后一项，<code>reduceRight()</code>方法则从数组最后一项开始，向前遍历。<br>两种方法都接收两个参数：一个在每一项上都调用的函数，作为归并基础的初始值（可选）。<br>传入的函数接受四个参数：前一个值，当前值，项的索引，当前数组对象。函数返回的值会作为第一个参数，自动传递给下一项<br><strong>在一个空数组上应用reduce会抛初始化错误的异常 TypeError</strong></p>
<h4 id="reduce-方法"><a href="#reduce-方法" class="headerlink" title="reduce()方法"></a><code>reduce()</code>方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> sum = values.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prev + cur; </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">alert(sum);   <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>
<p>第一次执行回调函数，prev 是1，cur 是2；第二次 prev 是3（2+1的结果），cur是3（数组第三项）。</p>
<h4 id="reduceRight-方法"><a href="#reduceRight-方法" class="headerlink" title="reduceRight()方法"></a><code>reduceRight()</code>方法</h4><p><code>reduce()</code>方法从数组的第一项开始，逐一遍历到最后一项，<code>reduceRight()</code>方法则从数组最后一项开始，向前遍历，除此之外没什么不同<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> sum = values.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prev + cur; </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">alert(sum);   <span class="comment">// 15</span></span><br></pre></td></tr></table></figure></p>
<p>第一次执行回调函数，prev 是5，cur 是4；第二次 prev 是9（5+4的结果），cur是3（数组倒数第三项）。</p>
<h3 id="其他技巧"><a href="#其他技巧" class="headerlink" title="其他技巧"></a>其他技巧</h3><h4 id="把一个数组拼接到另一个数组后面"><a href="#把一个数组拼接到另一个数组后面" class="headerlink" title="把一个数组拼接到另一个数组后面"></a>把一个数组拼接到另一个数组后面</h4><p> <code>apply()</code>第二个参数只能是数组，这个数组将作为参数传给原函数的参数列表arguments。<br> <code>push()</code>方法的参数只能是一个或者多个参数，而不能是一个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">[].push.apply(arr1, arr2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">//[0, 1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure></p>
<p>同样的，Math对象下的max()和min()等方法都只支持参数列表而不是数组,都可以使用这种方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = [<span class="number">5</span>, <span class="number">10</span>, <span class="number">50</span>];</span><br><span class="line"><span class="built_in">Math</span>.max(myArray);    <span class="comment">// Error: NaN</span></span><br><span class="line"><span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, myArray);    <span class="comment">// 50</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">fengqiyue.cheri</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/fengqiyue" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:mynameiszhangxu@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fengqiyue.cheri</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
