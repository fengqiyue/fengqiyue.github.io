<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="枫祺玥的小客栈，写博客的自留地">
<meta property="og:type" content="website">
<meta property="og:title" content="枫祺玥的小客栈">
<meta property="og:url" content="http://cheri.love/page/7/index.html">
<meta property="og:site_name" content="枫祺玥的小客栈">
<meta property="og:description" content="枫祺玥的小客栈，写博客的自留地">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="枫祺玥的小客栈">
<meta name="twitter:description" content="枫祺玥的小客栈，写博客的自留地">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://cheri.love/page/7/"/>





  <title>枫祺玥的小客栈</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">枫祺玥的小客栈</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/10/17/费米问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/17/费米问题/" itemprop="url">费米问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-17T20:05:00+08:00">
                2016-10-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂篇/" itemprop="url" rel="index">
                    <span itemprop="name">杂篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>费米问题是一类非常有趣的问题。发呆的时候，费米问题不失为一个极好的伴侣。<br>前两天，一个好友向我们介绍了一个问题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请预测以你家为中心，三公里范围内最大的一家超市，在10月12日23：59的时候，货架上还有多少瓶330ml的红色听装可口可乐。</span><br></pre></td></tr></table></figure></p>
<p>用费米问题的思路去解决这道题，思路非常清晰：</p>
<p>我住的地方三公里范围内算起来有差不多100幢楼，有的楼比较高，有的比较矮，平均为一幢楼9层，每幢楼4个单元，每层两户，每户3个人，总计：100 <em> 9 </em> 4 <em> 2 </em> 3 == 21600人；</p>
<p>假设其中有三分之一的人会在每天喝掉一瓶碳酸饮料，而其中又有三分之一的人选择可口可乐 ，那么每天能喝掉：21600 <em> 1/3 </em> 1/3 == 2400 瓶；</p>
<p>附近最大的一家超市规模不小，假设它能提供三公里范围内一半的消费好了，那么这家超市每天的可口可乐销量应当是 2400 / 2 == 1200 瓶；</p>
<p>可口可乐有各种各样容积和包装的产品，不过330ml的红色听装可口可乐还是很受欢迎的，假设听装可乐能占据各种包装销量的1/3，那么就是 1200 * 1/3 == 400 瓶；</p>
<p>一般来说，无论如何超市在23:59分都应该把货架摆好，准备新的一天的销售；那么这个时候货架上应该有 400 瓶红色听装可口可乐。</p>
<p>以上就是我的思路，因为各个数据纯粹为常识+估计，所以答案未必够准确；不过对于一个知识储备非常丰富或者某个领域内专业程度较高的人来说，其估算结果不出意外的话能把误差缩小在数量级之内，这时候的答案就很有参考意义了！</p>
<blockquote>
<p>拓展阅读 ：<a href="https://www.zhihu.com/question/21997407" target="_blank" rel="noopener">有哪些比较好的“费米问题”答案/案例？</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/10/10/一个简单的九宫格排序游戏js实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/10/一个简单的九宫格排序游戏js实现/" itemprop="url">一个简单的九宫格排序游戏js实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-10T13:49:00+08:00">
                2016-10-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="游戏介绍"><a href="#游戏介绍" class="headerlink" title="游戏介绍"></a>游戏介绍</h2><p>开心或者不开心的时候，写点简单的小东西也是个不错的选择。<br>这次写的是一个十分简单的九宫格排序游戏，样子是这样的：<br><img src="http://obdnk0ees.bkt.clouddn.com/image/九宫格.png" alt="九宫格排序游戏"><br>通关的条件很简单：把数字按照从小到大的顺序排列好就可以了。也就是排列成这样：<br><img src="http://obdnk0ees.bkt.clouddn.com/九宫格通关.png" alt="九宫格排序游戏通关"><br>下面来说一下实现：</p>
<h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><h3 id="HTML部分"><a href="#HTML部分" class="headerlink" title="HTML部分"></a>HTML部分</h3><p>分层次的说，页面主要分两块：左边是一块名为 game 的 div 区域，用于放置游戏需要的棋盘和小方块；右边一块 div 名为 control，用来显示游戏时间和按钮：<br><img src="http://obdnk0ees.bkt.clouddn.com/image/九宫格布局.png" alt="九宫格排序游戏界面布局"><br>上图基本展示了代码的层级关系，具体代码如下所示：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>九宫格排序游戏<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"jiugongge.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"all"</span>&gt;</span> </span><br><span class="line">	<span class="comment">&lt;!--总体区域--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"game"</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--九宫格区域--&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d1"</span> <span class="attr">onclick</span>=<span class="string">"move(1)"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d2"</span> <span class="attr">onclick</span>=<span class="string">"move(2)"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d3"</span> <span class="attr">onclick</span>=<span class="string">"move(3)"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d4"</span> <span class="attr">onclick</span>=<span class="string">"move(4)"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d5"</span> <span class="attr">onclick</span>=<span class="string">"move(5)"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d6"</span> <span class="attr">onclick</span>=<span class="string">"move(6)"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d7"</span> <span class="attr">onclick</span>=<span class="string">"move(7)"</span>&gt;</span>7<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"d8"</span> <span class="attr">onclick</span>=<span class="string">"move(8)"</span>&gt;</span>8<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"control"</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--控制按钮区域--&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timeText"</span>&gt;</span>总用时<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timer"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"start"</span> <span class="attr">onclick</span>=<span class="string">"start()"</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"restart"</span> <span class="attr">onclick</span>=<span class="string">"restart()"</span>&gt;</span>重新开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jiugongge.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>为了不导致误会，这里把棋盘所处的 <code>&lt;div id=&quot;game&quot;&gt;</code>称之为『大div』（棋盘），把棋子（也就是小方块）所处的<code>&lt;div id=&quot;d1&quot;&gt;</code>称之为『小div』（一共八个棋子，要留空一块用来移动）。</strong></p>
<h3 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h3><p>CSS部分是最吼的！<br>为了避免浏览器不同标准导致的意外，我先无脑拷贝一份CSS初始化代码（来自淘宝网）。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">hr</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">li</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">form</span>, <span class="selector-tag">fieldset</span>, <span class="selector-tag">legend</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span> &#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">0</span>; &#125; </span><br><span class="line">  <span class="selector-tag">body</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font</span>:<span class="number">12px</span>/<span class="number">1.5</span>tahoma, arial, \<span class="number">5</span>b8b\<span class="number">4</span>f53; &#125; </span><br><span class="line"> <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>&#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125; </span><br><span class="line">  <span class="selector-tag">address</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">var</span> &#123; <span class="attribute">font-style</span>:normal; &#125; </span><br><span class="line">  <span class="selector-tag">code</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">samp</span> &#123; <span class="attribute">font-family</span>:couriernew, courier, monospace; &#125; <span class="selector-tag">small</span>&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; &#125;</span><br><span class="line">  <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span> &#123; <span class="attribute">list-style</span>:none; &#125;</span><br><span class="line">  <span class="selector-tag">a</span> &#123; <span class="attribute">text-decoration</span>:none; &#125; </span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">text-decoration</span>:underline; &#125;</span><br><span class="line">  <span class="selector-tag">sup</span> &#123; <span class="attribute">vertical-align</span>:text-top; &#125;</span><br><span class="line">  <span class="selector-tag">sub</span>&#123; <span class="attribute">vertical-align</span>:text-bottom; &#125;</span><br><span class="line">  <span class="selector-tag">legend</span> &#123; <span class="attribute">color</span>:<span class="number">#000</span>; &#125;</span><br><span class="line">  <span class="selector-tag">fieldset</span>, <span class="selector-tag">img</span> &#123; <span class="attribute">border</span>:<span class="number">0</span>; &#125;</span><br><span class="line">  <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125;</span><br><span class="line">  <span class="selector-tag">table</span> &#123; <span class="attribute">border-collapse</span>:collapse; <span class="attribute">border-spacing</span>:<span class="number">0</span>; &#125;</span><br><span class="line"><span class="comment">/*  样式初始化*/</span></span><br></pre></td></tr></table></figure></p>
<p>接下来我把想说的直接写在注释里，值得一提的是，小方块（棋子）滑动的实现用的是 CSS 的<code>transition</code>实现的，比 JS 实现方便到不知道哪里去了（大雾(/ω＼)）。<br>完整的CSS代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">hr</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">li</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">form</span>, <span class="selector-tag">fieldset</span>, <span class="selector-tag">legend</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span> &#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">0</span>; &#125; </span><br><span class="line">  <span class="selector-tag">body</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font</span>:<span class="number">12px</span>/<span class="number">1.5</span>tahoma, arial, \<span class="number">5</span>b8b\<span class="number">4</span>f53; &#125; </span><br><span class="line"> <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>&#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125; </span><br><span class="line">  <span class="selector-tag">address</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">var</span> &#123; <span class="attribute">font-style</span>:normal; &#125; </span><br><span class="line">  <span class="selector-tag">code</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">samp</span> &#123; <span class="attribute">font-family</span>:couriernew, courier, monospace; &#125; <span class="selector-tag">small</span>&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; &#125;</span><br><span class="line">  <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span> &#123; <span class="attribute">list-style</span>:none; &#125;</span><br><span class="line">  <span class="selector-tag">a</span> &#123; <span class="attribute">text-decoration</span>:none; &#125; </span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">text-decoration</span>:underline; &#125;</span><br><span class="line">  <span class="selector-tag">sup</span> &#123; <span class="attribute">vertical-align</span>:text-top; &#125;</span><br><span class="line">  <span class="selector-tag">sub</span>&#123; <span class="attribute">vertical-align</span>:text-bottom; &#125;</span><br><span class="line">  <span class="selector-tag">legend</span> &#123; <span class="attribute">color</span>:<span class="number">#000</span>; &#125;</span><br><span class="line">  <span class="selector-tag">fieldset</span>, <span class="selector-tag">img</span> &#123; <span class="attribute">border</span>:<span class="number">0</span>; &#125;</span><br><span class="line">  <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125;</span><br><span class="line">  <span class="selector-tag">table</span> &#123; <span class="attribute">border-collapse</span>:collapse; <span class="attribute">border-spacing</span>:<span class="number">0</span>; &#125;</span><br><span class="line"><span class="comment">/*  样式初始化*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;           <span class="comment">/*浏览器屏幕大小自动适配 */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#all</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;     <span class="comment">/*居中*/</span></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;   <span class="comment">/*我开心才写的，你不喜欢可以删掉*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#game</span> &#123;     <span class="comment">/*大div（棋盘）*/</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">450px</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">450px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#66ffcc</span>;  <span class="comment">/*初音绿*/</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#66ffcc</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;   <span class="comment">/*居中*/</span></span><br><span class="line">  <span class="attribute">top</span>:<span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#game</span> <span class="selector-tag">div</span> &#123;    <span class="comment">/*小div（棋子）*/</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">149px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">149px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">#777</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#66ccff</span>; <span class="comment">/*天依蓝*/</span></span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: <span class="number">0.3s</span>;<span class="comment">/*浏览器前缀，兼容其他浏览器 safari &amp;&amp; chrome*/</span></span><br><span class="line">       <span class="attribute">-moz-transition</span>: <span class="number">0.3s</span>;<span class="comment">/*firefox*/</span></span><br><span class="line">        <span class="attribute">-ms-transition</span>: <span class="number">0.3s</span>;<span class="comment">/*ie*/</span></span><br><span class="line">         <span class="attribute">-o-transition</span>: <span class="number">0.3s</span>;<span class="comment">/*opera*/</span></span><br><span class="line">            <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#game</span> <span class="selector-tag">div</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ffe171</span>; <span class="comment">/*悬浮变色*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#control</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">450px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>:<span class="number">80%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#control</span> <span class="selector-tag">button</span>,<span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#start</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#66ccff</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">#ffe171</span>;<span class="comment">/*字体阴影*/</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;              <span class="comment">/*圆角属性*/</span></span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="number">#4c98f5</span>;<span class="comment">/*盒子阴影*/</span></span><br><span class="line">    <span class="attribute">text-align</span>: center;             <span class="comment">/*文字居中*/</span></span><br><span class="line">    <span class="attribute">cursor</span>: pointer;                <span class="comment">/*光标变形*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#restart</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#66ccff</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">#ffe171</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="number">#4c98f5</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*一一确定小div（棋子）的初始位置，本游戏棋盘宽450px*/</span></span><br><span class="line"><span class="selector-id">#d1</span>&#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#d2</span>&#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#d3</span>&#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#d4</span>&#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#d5</span>&#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#d6</span>&#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#d7</span>&#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#d8</span>&#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###JS 部分<br>JS代码中，主要有这么几个函数：</p>
<ul>
<li><code>move(id)</code>    传入值是当前被点击的小方块（棋子）的编号（该编号只和棋子本身的数字有关，和棋盘上的位置无关）,当小方块（棋子）被点击时，会调用<code>whereCanTo(cur_div)</code>函数来判断是否能移动和能移动到那个位置，并进行移动。</li>
<li><code>whereCanTo(cur_div)</code> 传入值是当前被点击的小方块在棋盘上的位置（和棋子本身的编号无关），返回值是一个数字，表示能移动到的位置，返回0表示不能移动。</li>
<li><code>start()</code>   点击『开始/暂停』按钮后触发，该按钮对应的方法是一个toggle，暂停时调用会开始游戏，进行游戏的时候调用会暂停游戏。该方法会通过<code>setInterval(timer,1000)</code>调用<code>timer()</code>方法，以此实现计时器。<br>*<code>timer()</code>  <code>start()</code>方法每1000毫秒调用一次，以此实现计时器，并把时间显示到 DOM 中。</li>
<li><code>restart()</code>   点击『重新开始』时调用该方法，会把时间计0，然后调用<code>random_d()</code>方法把棋子全部打乱。</li>
<li><code>random_d()</code>  将所有的棋子打乱，实现的思路是模拟人的操作。<br>全部代码如下：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> time = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pause = <span class="literal">true</span>;  <span class="comment">//值为 true 的时候，说明当前状态为暂停</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> set_timer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">Array</span>(<span class="number">10</span>); <span class="comment">//用于保存小div的编号</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d_direct = <span class="keyword">new</span> <span class="built_in">Array</span>(      <span class="comment">//记录当前位置的方块可以移动到哪些位置</span></span><br><span class="line">        [<span class="number">0</span>], <span class="comment">//为了逻辑简明，不使用第一项</span></span><br><span class="line">        [<span class="number">2</span>,<span class="number">4</span>],  <span class="comment">//1号位的方块可以移动到2号位和4号位</span></span><br><span class="line">        [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="number">6</span>],</span><br><span class="line">        [<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>],</span><br><span class="line">        [<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>],</span><br><span class="line">        [<span class="number">4</span>,<span class="number">8</span>],</span><br><span class="line">        [<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>],</span><br><span class="line">        [<span class="number">6</span>,<span class="number">8</span>]</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d_position = <span class="keyword">new</span> <span class="built_in">Array</span>(    <span class="comment">//保存方块的位置</span></span><br><span class="line">        [<span class="number">0</span>],       <span class="comment">//为了逻辑简明，不使用第一项</span></span><br><span class="line">        [<span class="number">0</span>,<span class="number">0</span>],     <span class="comment">//第一个表示left,第二个表示top，比如第一块的位置为let:0px,top:0px</span></span><br><span class="line">        [<span class="number">150</span>,<span class="number">0</span>],  <span class="comment">//方块的大小为 150px * 150px</span></span><br><span class="line">        [<span class="number">300</span>,<span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>,<span class="number">150</span>],</span><br><span class="line">        [<span class="number">150</span>,<span class="number">150</span>],</span><br><span class="line">        [<span class="number">300</span>,<span class="number">150</span>],</span><br><span class="line">        [<span class="number">0</span>,<span class="number">300</span>],</span><br><span class="line">        [<span class="number">150</span>,<span class="number">300</span>],</span><br><span class="line">        [<span class="number">300</span>,<span class="number">300</span>]</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">d[<span class="number">1</span>]=<span class="number">1</span>;d[<span class="number">2</span>]=<span class="number">2</span>;d[<span class="number">3</span>]=<span class="number">3</span>;d[<span class="number">4</span>]=<span class="number">4</span>;d[<span class="number">5</span>]=<span class="number">5</span>;d[<span class="number">6</span>]=<span class="number">6</span>;d[<span class="number">7</span>]=<span class="number">7</span>;d[<span class="number">8</span>]=<span class="number">8</span>;d[<span class="number">9</span>]=<span class="number">0</span>;   <span class="comment">//默认按照顺序排好，方块只有八块，第九块没有，</span></span><br><span class="line">                                                                  <span class="comment">//所以为0，我们用0表示空白块</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">id</span>) </span>&#123; <span class="comment">//用于移动方块的函数</span></span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(d[i] != id)&#123;   <span class="comment">// 用于确定当前触发函数的是哪个区域(编号属于大DIV而不是小方块)</span></span><br><span class="line">        i++;</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> target_d = <span class="number">0</span>; <span class="comment">//用于保存小方块可以去的区域，0表示不能移动</span></span><br><span class="line"></span><br><span class="line">    target_d = whereCanTo(i);</span><br><span class="line">    <span class="comment">//用来找出小DIV可以去的位置，如果返回0，表示不能移动，如果可以移动，则返回可以去的位置编号</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(target_d != <span class="number">0</span>)&#123;</span><br><span class="line">        d[i] = <span class="number">0</span>; <span class="comment">//如果当前可以移动，则把当前小方块移走，当前位置设置为无方块</span></span><br><span class="line">        d[target_d] = id; <span class="comment">//把目标大DIV设置为被点击的小DIV的编号</span></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"d"</span>+id).style.left = d_position[target_d][<span class="number">0</span>]+<span class="string">"px"</span>;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"d"</span>+id).style.top = d_position[target_d][<span class="number">1</span>]+<span class="string">"px"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> finish_flag = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">1</span>; k&lt;<span class="number">9</span>; ++k)&#123;  <span class="comment">//用于判断游戏是否通关</span></span><br><span class="line">        <span class="keyword">if</span>( d[k] != k)&#123;</span><br><span class="line">            finish_flag=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">//如果大DIV保存的编号和它本身的编号不同，则表示还不是全部按照顺序排的，那么设置为false，跳出循环</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(finish_flag==<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!pause)</span><br><span class="line">            start();   <span class="comment">//此时调用 start() 函数，效果是暂停游戏,</span></span><br><span class="line">                       <span class="comment">//start() 是一个 toggle，暂停时调用会开始游戏，进行游戏的时候调用会暂停游戏</span></span><br><span class="line">        alert(<span class="string">"恭喜通关！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">whereCanTo</span>(<span class="params">cur_div</span>) </span>&#123;  <span class="comment">//参数是大div的编号</span></span><br><span class="line">    <span class="keyword">var</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> move_flag = <span class="literal">false</span>; <span class="comment">//方块能否移动的标记</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;d_direct[cur_div].length; j++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (d[ d_direct[cur_div][j] ]== <span class="number">0</span>) &#123;</span><br><span class="line">            move_flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(move_flag)&#123;</span><br><span class="line">        <span class="keyword">return</span> d_direct[cur_div][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定时函数，每一秒执行一次</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    time+=<span class="number">1</span>;<span class="comment">//一秒钟加一，单位是秒</span></span><br><span class="line">    <span class="keyword">var</span> min=<span class="built_in">parseInt</span>(time/<span class="number">60</span>);<span class="comment">//把秒转换为分钟</span></span><br><span class="line">    <span class="keyword">var</span> sec=time%<span class="number">60</span>;<span class="comment">//取余就是秒</span></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"timer"</span>).innerHTML=min+<span class="string">"分"</span>+sec+<span class="string">"秒"</span>;<span class="comment">//把时间更新显示出来</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pause)&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"start"</span>).innerHTML = <span class="string">"暂停"</span>; <span class="comment">//当前状态为游戏进行中，把开始按钮切换为暂停 </span></span><br><span class="line">        pause = <span class="literal">false</span>;<span class="comment">//暂停标志设置为false</span></span><br><span class="line">        set_timer = setInterval(timer,<span class="number">1000</span>);<span class="comment">//启动定时,每1000毫秒调用一次</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"start"</span>).innerHTML = <span class="string">"开始"</span>;</span><br><span class="line">        pause = <span class="literal">true</span>;</span><br><span class="line">        clearInterval(set_timer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">restart</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    time=<span class="number">0</span>;<span class="comment">//把时间设置为0</span></span><br><span class="line">    random_d();<span class="comment">//把方块随机打乱函数</span></span><br><span class="line">    <span class="keyword">if</span>(pause)<span class="comment">//如果暂停，则开始计时</span></span><br><span class="line">        start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random_d</span>(<span class="params"></span>)</span>&#123; <span class="comment">//模拟人的操作，为了避免随机的时候直接碰巧通关，所以先走上几步</span></span><br><span class="line">    move(<span class="number">6</span>);</span><br><span class="line">    move(<span class="number">5</span>);</span><br><span class="line">    move(<span class="number">2</span>);</span><br><span class="line">    move(<span class="number">1</span>);</span><br><span class="line">    move(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">30</span>;   <span class="comment">//要是觉得打散的不够彻底，可以多循环几次。</span></span><br><span class="line">    <span class="keyword">while</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        move(<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*<span class="number">9</span>));</span><br><span class="line">        i--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  <span class="comment">//初始化函数，页面加载的时候调用重置函数，重新开始</span></span><br><span class="line">    restart();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>实际上，还可以使用另外一种打散的方式，原理是随机调换小div的位置，但是这样做会有相当的概率导致你永远都不能通关，随机打散的代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random_d</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">9</span>; i&gt;<span class="number">1</span>; --i)&#123;</span><br><span class="line">        <span class="keyword">var</span> to=<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*(i<span class="number">-1</span>)+<span class="number">1</span>);<span class="comment">//产生随机数，范围为1到i，不能超出范围，因为没这个id的DIV</span></span><br><span class="line">        <span class="keyword">if</span>(d[i]!=<span class="number">0</span>)&#123;          <span class="comment">//把当前的DIV位置设置为随机产生的DIV的位置</span></span><br><span class="line">            <span class="built_in">document</span>.getElementById(<span class="string">"d"</span>+d[i]).style.left=d_position[to][<span class="number">0</span>]+<span class="string">"px"</span>;</span><br><span class="line">            <span class="built_in">document</span>.getElementById(<span class="string">"d"</span>+d[i]).style.top=d_position[to][<span class="number">1</span>]+<span class="string">"px"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(d[to]!=<span class="number">0</span>)&#123;           <span class="comment">//把随机产生的DIV的位置设置为当前的DIV的位置</span></span><br><span class="line">            <span class="built_in">document</span>.getElementById(<span class="string">"d"</span>+d[to]).style.left=d_position[i][<span class="number">0</span>]+<span class="string">"px"</span>;</span><br><span class="line">            <span class="built_in">document</span>.getElementById(<span class="string">"d"</span>+d[to]).style.top=d_position[i][<span class="number">1</span>]+<span class="string">"px"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> tem=d[to];         <span class="comment">//然后把它们两个的DIV保存的编号对调一下</span></span><br><span class="line">        d[to]=d[i];</span><br><span class="line">        d[i]=tem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##代码部分：<br>所有的代码都在文章中写出来了，<a href="https://github.com/fengqiyue/orderingGame" target="_blank" rel="noopener">github的地址点此</a>。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/08/03/移动电台类软件格局分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/03/移动电台类软件格局分析/" itemprop="url">移动电台类软件格局分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-03T16:31:00+08:00">
                2016-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂篇/" itemprop="url" rel="index">
                    <span itemprop="name">杂篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="分析目的"><a href="#分析目的" class="headerlink" title="分析目的"></a>分析目的</h2><p>本次竞品分析的目的是：分析市场份额占优的移动电台类应用在2016年底时的可能格局。</p>
<h2 id="背景分析"><a href="#背景分析" class="headerlink" title="背景分析"></a>背景分析</h2><p>移动电台类软件的火热是移动互联网浪潮蚕食传统行业的一个缩影。2015年大量资本涌入移动电台领域，各大公司展开了激烈的竞争，市场快速扩张，预计2017年市场规模在20亿以上。<br><img src="http://obdnk0ees.bkt.clouddn.com/image/learnfm类市场规模.png" alt=""><br>移动电台很好的满足了个性化、碎片化，场景化这几个需求，并且能在相当程度上继承传统电台的使用人群。<br>尤其在大龄用户群体，由于视力随年龄的下降，其在音频内容方面的青睐程度有所提高；随着智能移动终端的发展、WiFi的普及以及移动资费的降低，大龄用户市场还有相当大的扩展空间。<br>另一方面，在现今这种多媒体混合发声的时代，音媒很可能成长为下一个生活娱乐的入口。</p>
<h2 id="竞品选取"><a href="#竞品选取" class="headerlink" title="竞品选取"></a>竞品选取</h2><p>本文的竞品主要由市场份额和市场渗透率决定。<br>市场占有情况根据下图可以清楚的看出，喜马拉雅FM，蜻蜓FM，荔枝FM占据了六成的市场份。<br><img src="http://obdnk0ees.bkt.clouddn.com/image/learnfm类市场份额.png" alt=""><br>市场渗透率方面，喜马拉雅FM遥遥领先，蜻蜓FM和荔枝FM居于次席。<br><img src="http://obdnk0ees.bkt.clouddn.com/image/learnfm类市场报告.png" alt=""></p>
<p>结合本次竞品分析的目的，本文选取喜马拉雅FM、蜻蜓FM和荔枝FM三个产品开展分析。</p>
<h2 id="竞品信息"><a href="#竞品信息" class="headerlink" title="竞品信息"></a>竞品信息</h2><table>
<thead>
<tr>
<th>产品名称</th>
<th>当前版本号</th>
<th>产品特点</th>
</tr>
</thead>
<tbody>
<tr>
<td> 喜马拉雅FM</td>
<td>5.4.2</td>
<td>内容最丰富的移动电台</td>
</tr>
<tr>
<td> 蜻蜓FM</td>
<td>4.9.10</td>
<td>大量传统电台</td>
</tr>
<tr>
<td> 荔枝FM</td>
<td>3.8.5</td>
<td>极具个性化的内容</td>
</tr>
</tbody>
</table>
<h2 id="竞品分析"><a href="#竞品分析" class="headerlink" title="竞品分析"></a>竞品分析</h2><h3 id="用户分析"><a href="#用户分析" class="headerlink" title="用户分析"></a>用户分析</h3><p><strong> 喜马拉雅FM：</strong><br>喜马拉雅FM采用的发展方向为：PUGC+社交；UGC+PGC+版权内容的方式无疑表明了其内容上仍然是采用用之前的『大而全』的增长方式，有利于满足各类需求的用户，而社交的属性又为其增添了用户粘度。<br>喜马拉雅FM的PGC内容相当丰富，涵盖了有声书、培训、财经、管理、英语、儿童、文化、情感、相声评书等项目，<strong>对PGC付费的用户是核心用户的重要组成部分</strong>；平台借助主播的内容获得大量核心用户 ，主播借助平台聚合粉丝，实现自身目标，达到双赢，从这一点来讲，<strong>聚集了大量人气的主播和正在获取粉丝的主播</strong>同样是重要的<strong>核心用户</strong>。<br>喜马拉雅FM凭借知名度和海量内容吸引了相当数量活跃度高的<strong>主流用户</strong>，主要是在<strong>通勤和休闲时间爱好听音频内容的人（另有部分人爱好在工作时间听节目）</strong>和<strong>偶尔有兴致才听节目的普通用户</strong>。</p>
<p><strong> 蜻蜓FM：</strong><br>蜻蜓FM是一个在『收音机』方面做的尤为突出的软件，和喜马拉雅的音频分享平台的定位不同，蜻蜓FM从一开始在定位上就是一款广播收听类软件，然而喜马拉雅FM异军突起，蜻蜓FM也敏感的察觉到市场方向，快速转型，走上了PUGC的战略路线，从而在行业第二的位置上站稳脚跟。<br>其电台节目方面的优势理所当然的为其积累了一部分<strong>习惯收听电台内容的人</strong>为核心用户；除电台节目优势吸引到的用户外，由于蜻蜓FM同样采用了UPGC战略，所以在用户组成方面<strong>和喜马拉雅FM有一定的相似性</strong>。<br><strong> 荔枝FM：</strong><br>荔枝FM不论是设计还是内容，整体风格上都给人一种小清新的感觉。在产品定位上也和其他同类软件不同，主要用户是<strong>年青群体</strong>中的<strong>文艺范、小清新用户（学生党，白领为主）</strong>，以『人人都是播客』为Slogan，通过无比简单的录制步骤，鼓励播客随时创造内容。<br>荔枝FM用户性别比例上和其他电台区别较大，其用户大多是女性用户，其内容也是主要为这些用户服务，具有较强的针对性；在这个内容为王的市场中，显然在对<strong>女性用户</strong>的获取方面有较大优势。<br><img src="http://obdnk0ees.bkt.clouddn.com/image/learn/男女比例.png" alt=""></p>
<p><img src="http://obdnk0ees.bkt.clouddn.com/image/learn/年龄组成.png" alt=""></p>
<h3 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h3><h4 id="应用排名"><a href="#应用排名" class="headerlink" title="应用排名"></a>应用排名</h4><table>
<thead>
<tr>
<th>日期</th>
<th>喜马拉雅FM</th>
<th>蜻蜓FM</th>
<th>荔枝FM</th>
</tr>
</thead>
<tbody>
<tr>
<td>–</td>
<td>全网/音乐/移动电台</td>
<td>全网/音乐/移动电台</td>
<td>全网/音乐/移动电台</td>
</tr>
<tr>
<td>2016年4月</td>
<td>84/7/1</td>
<td>121/12/2</td>
<td>287/17/3</td>
</tr>
<tr>
<td>2016年5月</td>
<td>81/5/1</td>
<td>105/11/2</td>
<td>274/16/3</td>
</tr>
<tr>
<td>2016年6月</td>
<td>83/7/1</td>
<td>95/9/2</td>
<td>312/17/3</td>
</tr>
</tbody>
</table>
<p><em>数据来自（analysys.cn）</em></p>
<h4 id="2016年中数据对比"><a href="#2016年中数据对比" class="headerlink" title="2016年中数据对比"></a>2016年中数据对比</h4><p><img src="http://obdnk0ees.bkt.clouddn.com/image/learn/2016年中评比.png" alt=""></p>
<p><em>数据来自<a href="http://mp.weixin.qq.com/s?__biz=MjM5MDk2NzM0Ng==&amp;mid=2651504270&amp;idx=1&amp;sn=a6c3ba122f3d6ebee08b34440203ea4f&amp;scene=1&amp;srcid=0713u6C7WQyTu2JDNYmdHmG7#wechat_redirect" target="_blank" rel="noopener">Questmobile-《中国区TOP1000APP榜》</a></em><br>从数据上看：</p>
<ul>
<li>2015年到2016年，移动电台类软件发展势头良好，行业前列的公司都获得了更多的用户。</li>
<li>近三个月数据来看，蜻蜓FM暂时保持着良好的上升势头。</li>
<li>UPGC战略有效的发挥了作用，吸引了大量用户。</li>
<li>荔枝FM数据上逊色于其他两家产品，但由于荔枝FM采用的战略有所不同，其用户成分和其他同类产品区别较大。</li>
<li>从线上消费活跃率来看，荔枝FM的用户消费意愿更胜一筹。</li>
</ul>
<h3 id="战略分析"><a href="#战略分析" class="headerlink" title="战略分析"></a>战略分析</h3><pre><code>| 喜马拉雅FM | 蜻蜓FM | 荔枝FM
</code></pre><p>— | — | — | —<br>目标用户|全范围用户 |全范围用户 |年青文艺范群体，学生和白领为主；爱好分享的小清新主播<br>用户需求|更优秀的PGC和UGC内容，更丰富的版权内容|容易获取的直播电台内容，优秀的PGC内容|更优秀的UGC内容，更简洁的内容录制方式<br>内容倾向|全面的UGC+PGC+独家版权|海量电台内容+UGC+版权内容|符合年轻人价值观的节目，内容有趣、小清新、碎片化、场景化。</p>
<p>喜马拉雅FM作为市场领先者，其移动电台类软件的第一把交椅目前坐的还是比较稳当的，接下来要做的大致可以概括为三部分：一是强大主干：获得更多的PGC和版权内容保持维持现有地位，二是把根扎的更深：鼓励和支持UGC的更繁荣发展，让平台里诞生更多的优秀主播来创造粉丝经济的温床，三是探索下游领域：汽车、智能家居等场景的分发有着极其重要的经济价值，尽早的探索出一条可行的方向有着极为重大的意义。<br>蜻蜓在战略上和喜马拉雅相似，目标都是『大平台』，产品方面互相替代性较高，直接竞争将会相对激烈；虽然在市场份额上暂时处于下风，但是从资本的角度看，率先完成D轮的蜻蜓FM显然拥有着巨大优势，可以预见的是，一旦喜马拉雅FM在市场中错失一点机会，蜻蜓FM都会狠狠地扑上去撕下一大块儿市场份额。<br>而荔枝FM则选择了另外的战略反向，专心于UGC方面；一方面避开了版权之争的战火，另一方面有效的降低了内容的同质化，削弱了赢家通吃的结局下，非赢家玩家的风险，目前看来也不失为一招另避蹊径的好棋。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>喜马拉雅FM在市场占有方面暂时处于上风，但并未形成碾压优势，市场还是诸侯争霸的局势，喜马拉雅FM暂时是最大的诸侯王，但是能否定鼎中原还要看它能否把握住每一个机会的同时不给对手丝毫机会。<br>蜻蜓FM作为强有力的竞争者，凭借资本上的优势完成了『广积粮』的战略，一旦机会来临，蜻蜓FM马上就能把资本优势转化为市场竞争力，毫不犹豫的将喜马拉雅FM拉下行业第一的宝座。<br>荔枝FM由于其内容的独特性，在很早的时候就打上了小清新等等的标签，这些标签固然为荔枝FM带来了很多用户获取方面的优势，但是同样导致了用户范围遭到禁锢；在当前局势下，荔枝FM深化UGC战略，走小而美的路线，进行『主播经济』的探索都是非常有效的『自保』措施。或许能以非赢家身份在移动互联网『赢家通吃』的局面下找到一条适合自己的出路。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/08/02/创业以来我在干什么？/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/02/创业以来我在干什么？/" itemprop="url">创业以来我在干什么？</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-02T12:22:00+08:00">
                2016-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/情感/" itemprop="url" rel="index">
                    <span itemprop="name">情感</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>从2014年的夏天开始，到2016年的夏天，这是我创业历程的两年。两年以来，我都做了些什么？</p>
<h2 id="一个团队"><a href="#一个团队" class="headerlink" title="一个团队"></a>一个团队</h2><p>从2014年开始的时候，一切都很简单，我们做出了一款名为『Lydiabox』（后改名为云集轻应用，再后来改名为云集浏览器）的手机软件，初心很简单：做应用『网页应用』的应用商店，然后为这些应用提供一个优秀的运行环境（从基本概念来讲，这实际上是一个浏览器，只不过浏览的对象不是 web site 而是 web app）。当时我们考虑了诸多因素，包括native app的开发成本高、app store的模式对于开发者造成了许多限制、web app能避免频繁的软件更新等等，并且我们只收录精品的web app，以此希望能毁掉用户容忍劣质web app的能力同时期待能潜移默化地增加开发者在H5技能方面所下的功夫（这可真是一个超长远战略目标，不是吗）。<br>在初期，除了开发以外，最重要的事情就是内容了，拿了一款『网页应用商店』出来，总不能没有网页应用不是。所以当时我做的最多的一件事就是去寻找各式各样惊艳的 web app，这个行为也将会伴随软件的一生。<br>2014年9月，我们的团队参加了IDG校园创业大赛，并且获得了第一名；这个第一名也相当程度上鼓舞了我们整个小队，可以说是促使我们接下来开一家公司的重要助力（还获得了十五万的奖金）。于是在2014年的12月，我们拿到了营业执照。</p>
<h2 id="一家公司"><a href="#一家公司" class="headerlink" title="一家公司"></a>一家公司</h2><p>在公司成立的初期，我们实质上只有三名成员，并且是同班同学；人少的时候，做起事情来也很敏捷，寒假的时候就租个一般的居民楼里的房子办公，，我要做的核心的事情主要也就是充实软件内商店内容、获得数据并制表分析、与初期用户交流，获得最早期的反馈；开学后课程也比较少，上课之余就是学习运营的技巧，希望能获得更多的用户。<br>后来我们得到了一笔投资，天使轮投资。那个时候确实很激动，天使轮意味着公司能获得一段暂时不用思考现在怎么活，而是未来怎么活的时间；同时我们也能有资本找一些优秀的人来帮我们把产品做得更好。这段时间内我在做一些运营方面的事情外，还在银行、工商、税务局之间来回奔波。<br>2015年4月，在我和创始人的『考察』下，我们在新加坡科技园中租下了一间办公室，精心挑选家具。有了一个『根据地』后，我们陆陆续续地聚集了一些优秀的同事（其中大多数是同一个年级的同学），一起来实现之前的设想。这时候公司的基本情况也慢慢走向正轨了，运营是我最核心的工作。</p>
<h2 id="一个小运营"><a href="#一个小运营" class="headerlink" title="一个小运营"></a>一个小运营</h2><p>运营是一个目的明确，手段无穷的技术活。我接手运营的软件有：云集浏览器（后来拆分为两部分：云集浏览器和Link）和Pero。</p>
<h3 id="一款叫云集的软件"><a href="#一款叫云集的软件" class="headerlink" title="一款叫云集的软件"></a>一款叫云集的软件</h3><p>云集浏览器在分类上妥妥是工具类，工具类软件的最大特点是：替代性高，用户粘度低；不用你家的产品，也能找到差不多来替代你；所以我一开始在思考的问题是：如何给用户一个用你家产品的理由。<br>对于一个新手来讲，这一切都让我有点让人难以入手，在一开始，我大概列了一下云集浏览器有哪些与众不同的地方：</p>
<ol>
<li>没有地址栏（从而显得不那么自由的浏览）</li>
<li>有一个显眼的内置商店</li>
<li>对于 H5 的支持很优秀（主要在于 android）<br>以上是比较直接的优点（不那么自由换句话说就是在另一方面相对专注，也能算是个优点吧），当时有这么几个想法：</li>
<li>对于内容性的应用（比如知乎、今日头条等等），使用web app和native app差异相对小，使用web app 也能极为有效的减少手机存储空间的消耗（尤其对于 iphone 16g版本，存储空间尝尝捉襟见肘）</li>
<li>由于对 H5 的支持极为良好，和 H5 游戏平台进行合作比较有优势</li>
<li>由于web app添加方便，使用成本极低，所以当用户想使用native app的时候，可以先使用其web 版本进行尝试</li>
<li>小而美的 web app 也有很多，可以通过商店的推荐让大家尝试一些新奇的 web app（包括一些有趣的 H5 小游戏）<br>当时大概就有这么多想法，后来除了第3点没有明着作为宣传点外（看得多了发现，很多软件web版和native版差的还是很多的），其他几点都有尝试过，一段时间的发展后，主要采用第四点，社交媒体上也同步向用户推荐，一个原因是用户的定位主要是有着类似geek性格的年青人，另一个原因是公司的另一款软件『Pero』占用了这个公司的主要精力。</li>
</ol>
<p>PS：2015年的5月2日，浙江卫视播出了一段采访我们公司的视频并介绍了我们的产品，用户数量有个非常靠谱的增长，不过影响力持续的时间相当短。</p>
<p>PS2：在2015年8月，采取用了一个『拉好友、送流量』的推广方式，具体内容为你每说服一个小伙伴来使用云集浏览器，你和你的小伙伴都可以获得我们送出的流量（类似于Uber 的邀请奖励模式），不过这个活动开展的并不好，我觉得主要问题是『把活动内容传递给用户』这个方面做的不够合理，需要牢记前车之师。</p>
<h3 id="一款叫-Link-的软件"><a href="#一款叫-Link-的软件" class="headerlink" title="一款叫 Link 的软件"></a>一款叫 Link 的软件</h3><p>云集在2015年下半年的时候，做出了一个新的功能（也就是后来被分出去成为独立软件的Link），可以通过长连接的形式把很多行为『串』起来，举个例子：一个典型的例子是一个叫做『发送内容到微博微信』的云任务（Link中把一系列操作组成的整体称之为云任务），在运行这个云任务之后，会要求你输入一段内容（文字或者图片），在你运行云任务之后，就会把你输入的内容同时发布到朋友圈和微博（当然了，这个行为需要你在第一次使用的时候授权微信和微博登录)，类似的云任务还有很多，只要你输入一个内容，并且设置好action，云任务就好按照安排好的动作去执行下去，例如输入地点，通过大众点评找附件评分最高的餐馆之类的，而且所有的行为都是通 web 来实现的，不需要手机上有对应的软件。当时我们认为这是一个很有趣的功能，可能会吸引到很多用户，不过因为功能不够多，团队精力也不足，所以日后就没有继续更新了，我个人觉得还是挺可惜的。</p>
<h3 id="一款叫做-Pero-的软件"><a href="#一款叫做-Pero-的软件" class="headerlink" title="一款叫做 Pero 的软件"></a>一款叫做 Pero 的软件</h3><p>到我离职之前，公司主要的精力是放在 Pero 上的，Pero是一个图片交易软件。<br>Pero 的机制很简单，用户可以同时扮演内容的生产者和消费者，用户可以将图片发布到 Pero 上来，并设定价格，其他用户可以充值购买金币，然后用金币购买图片，发图片的用户可以获得大量的金币，并用来兑换人民币（用金币兑换人民币是会扣除部分运营费用）。这样的模式下，Pero可以通过大量的交易来获得利润，并且能获得流水。<br>Pero 实质上是一个内容型的软件，所以暂时看来，最急迫的就是内容运营，采用的手法也很简单粗暴：在微博上寻找诸多福利型美少女（没错，当下就是寻找且只寻找美少女），然后和她们说明Pero的性质和好处。在Pero现行的这套模式下，优秀的内容生产者无疑是直接的利益获得者，在内容生产者获得好处后，便会像其粉丝宣传（Pero 是一个利益链极短的平台，更利于内容生产者获利所以她们自然会把潜在的消费人群来进来），进一步增加Pero用户数量（部分妹子的微博粉丝数大得惊人，而且这类粉丝型的用户质量极高）。暂时看来，这是一个良性循环，数据的变化也佐证了这条思路目前是可行的。</p>
<h2 id="一个在学习的人"><a href="#一个在学习的人" class="headerlink" title="一个在学习的人"></a>一个在学习的人</h2><p>以上就是在公司的时候做的一些事情，现在看来一个很大的问题是没有章法，很多行为是孤立的，效果上看，很多策略投入和产出的比例并不令人满意，还是要努力学习。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/08/01/告一段落，去下一个起点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/01/告一段落，去下一个起点/" itemprop="url">告一段落，去下一个起点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-01T13:38:00+08:00">
                2016-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/情感/" itemprop="url" rel="index">
                    <span itemprop="name">情感</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>天空未留痕迹，鸟儿却已飞过。<br>转眼之间，大学毕业已经一个月了，今天想写点东西，也算是为旅途打上一个标点。</p>
<p>2012年的9月，我的人生开启了新的篇章：大学篇。</p>
<p>我是一个向往大学的人，是不是个很奇怪的说法？人人都有自己所向往的东西：有的人向往功成名就，有的人向往富甲一方，有的人向往生活幸福，能和爱的人甜蜜的渡过一生，有的人向往自由，灵魂和肉体总有一个在路上。而我以前都没有想过那么多的以后，就是简简单单的向往着大学。<br>我喜欢我的家乡：一个西部不算大的城市；我喜欢家乡的气候，喜欢家乡的朋友，喜欢家人；但是同样向往着大学，在我心中的大学，就是一个离家很远的地方，有朋友，有事业，还有一个内心强大的我。</p>
<p>现在想想，也许最令当时的自己着迷的，就是那个可能会很强大的自己。</p>
<p>大学果然是另一个世界，尤其是对于一个高中以来都是走读生的我。九月的杭州，是浸在桂花香中的；刚来的几天，整个人都沉静在『昨日里趟风踏雪来到塞北，今日里下江南桃杏争春』的感怀中，在校园四周转啊转，感受和以前不一样的风景，我很清楚，这次不同于旅游；这里的人和景色，会陪我走过人生中最好的年华。</p>
<p>大一的时候学到了太多的第一次，做一个志愿者，做一个组织者，做一个策划者，然后再愈发熟练，后来遇到和当初的自己一样笨拙的学弟学妹，看着他们也慢慢的熟练起来，再去教他们的学弟和学妹，恍然间，就快要毕业了。现在回想起来，自己的很多收获，都来源于这些生活中吧。</p>
<p>在临近大三的时候，有一条旅人比较少的路出现了，当时的想法很简单：既然有一条不太一样的路，那就走走看吧，就算走不到尽头，也能在路上看看很多人看不到的风景；于是和同学一起开始筹备，到了2014年12月10日，我们成立了一家创业公司：杭州尘埃科技有限公司。</p>
<p>到了2016年7月，因为诸多原因，我离开了这家自己参与创建及发展的公司，并给自己放了一段时间的假期，休息一下，也总结一下；同时也祝愿曾经的旅伴走的越来越远。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/07/27/乌合之众－群体心理篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/27/乌合之众－群体心理篇/" itemprop="url">乌合之众－群体心理篇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-27T12:02:00+08:00">
                2016-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂篇/" itemprop="url" rel="index">
                    <span itemprop="name">杂篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原作者【法】古斯塔夫·勒庞</p>
<h2 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h2><p>勒庞的著作《乌合之众》分三卷以独特的视角和思想为我们解读了“群体”这个集合的种种特点，勒庞的思想中有着相当偏激的精英主义思想和个人主义思想，认为推动社会进步的一定是具有贵族身份的精英，对基数巨大的普通群众所组成的群体在推动历史进步这一使命上做出的贡献不屑一顾（甚至认为普通大众群体并不能对历史的进步做出正面推动）。</p>
<p>勒庞认为，个人一旦进入群体，其高贵的个性和自由的灵魂便受到了拘束，甚至会慢慢地被消磨殆尽，所有成员的意志会形成一个和任何成员意志都大相径庭的群体意志，群体意志在群体中占据统治地位，此时群体表现为：智商严重下降，情绪化的力量极度增强。</p>
<h2 id="群体的一般特性"><a href="#群体的一般特性" class="headerlink" title="群体的一般特性"></a>群体的一般特性</h2><p>勒庞在此卷讲述了群体的一般特征，情感，道德观，观念，推理，想象力和群体信仰的宗教性。</p>
<p>简单的说，群体的智商会下降，但是同时，这一点也强化了群体的情感 ，在群体中的个体更容易被情绪所感染，更容易变的英勇（如军队集体）或者暴躁和愤怒（文革时期的部分民众）。</p>
<p>值得强调的一点是：集体心理是集体中每个成员的心理汇聚后产生的化学反应，而并非简单的叠加。表现出来的现象便是集体心理的特点非常鲜明，并且和群体中任何个人的心理都不同。</p>
<h2 id="群体的冲动、易变和急躁"><a href="#群体的冲动、易变和急躁" class="headerlink" title="群体的冲动、易变和急躁"></a>群体的冲动、易变和急躁</h2><p>心理学中有一条确认的真理：“无意识现象不但在有机体的生活中，而且在智理活动中，都发挥着一种完全压倒性的作用。”群体对这一点的表现尤为明显，它几乎是完全受着无意识动机的支配。</p>
<p>无意识的行为受脊椎神经而不是大脑支配，如此一来，群体按照他所受到的刺激因素决定自己的行动，然而外界的刺激因素会不断发生变化，从而导致了一个事实：群体缺乏主宰自己反应行为的能力。</p>
<p>群体总是屈从于外界刺激，这解释了为什么我们会看到，群体可以瞬间从最血腥的狂热变为最极端的宽宏大量的英雄主义。群体可以践踏一切的法律，也不惜为了信仰血流成河。</p>
<h2 id="群体的易受轻信和暗示"><a href="#群体的易受轻信和暗示" class="headerlink" title="群体的易受轻信和暗示"></a>群体的易受轻信和暗示</h2><p>勒庞在定义群体时曾说道：“它的一个普遍特征是极易受人暗示。” 暗示在人类集体中具有很强的传染性，并且人们在接受暗示后，并不会有任何表现。这个事实解释了群体感情向某个方面的迅速转变。</p>
<p>暗示在群体中会迅速传染，而群体情感的一致倾向会立刻变成一个既成事实。</p>
<p>就像处于暗示影响下的个人一样，在这种状态下，进入大脑的念头很容易成为实际行动。无论这种行动是纵火焚烧金碧辉煌的宫殿还是自我牺牲，群体都会在所不惜！</p>
<p>群体永远漫游在无意识的领地，会随时听命于一切暗示，表现出对理性思想的无动于衷，失去了一切批判能力，除了极端轻信再无别的可能。</p>
<p>一些能在群体之间流传的神话之所以能产生，不仅仅是因为他们极端轻信，更是因为这些事件在人群中经历了奇妙的曲解后，造成的结果。</p>
<p>群体是用形象来思维的，而形象思维本身又会引起与它毫无逻辑关系的一系列形象。很多神话我们自己仔细的想一想，理性便会告诉我们其中的不合理之处，然而群体却对这个事实熟视无睹，因为群体很少对主观和客观加以区分，他们把歪曲性的想象力所引起的幻觉和真实事件混为一谈。</p>
<h2 id="群体情绪的夸张和单纯"><a href="#群体情绪的夸张和单纯" class="headerlink" title="群体情绪的夸张和单纯"></a>群体情绪的夸张和单纯</h2><p>群体感情的夸张是群体的一个重要特点。群体总是从一个极端滑向另一个极端。早就有人正确指出：观众会要求舞台上的英雄具有现实生活中不可能存在的勇气、道德和美好品质。而群众眼中的恶人，也必将从肉体到灵魂充斥着邪恶与罪孽。</p>
<p>群体只知道简单而极端的感情：提供给群体的意见和信念，他们或者全盘接受，或者一概拒绝；将其视为绝对真理或绝对谬误。这便是群体又一个特点：偏执、专横和保守。</p>
<p>一方面对何为真理何为谬误心存疑虑，另一方面又清楚地意识到自己的强大，群体便给自己的理想和偏执赋予了专横的性质。个人可以接受矛盾进行探讨，但是群体不行！任何敢于用真理反抗大众的人都会遭到严厉的打压，伽利略的真理并没有说服群体，因为群体是不会被理性思维说服的，永远不会。</p>
<h2 id="群体的偏执、专横和保守"><a href="#群体的偏执、专横和保守" class="headerlink" title="群体的偏执、专横和保守"></a>群体的偏执、专横和保守</h2><p>专横和偏执是一切类型群体的共性，各种差别不过去强度不同罢了。在这个方面，支配着人们感情和思想的基本种族观念会一再表现出来。</p>
<p>专横和偏执的群体有着明确认识的感情，只要有人煽动这种感情，他们随时会将其付诸实践。群体对强权俯首帖耳却从不为仁慈心肠所动，他们认为那不过是软弱可欺的另一种形式。</p>
<p>群体随时会反抗软弱可欺者，对强权低声下气；如果强权时断时续，而群体又总会被极端情绪所左右，他便会表现的反复无常，时而无法无天，时而卑躬屈膝。</p>
<h2 id="群体的道德"><a href="#群体的道德" class="headerlink" title="群体的道德"></a>群体的道德</h2><p>有趣的是群体的极端情绪化导致很多时候群体会表现出极其崇高的献身、牺牲和不计名利的举动。私人利益几乎是孤立个人唯一的行为动机，但却很少成为群体的强大动力。</p>
<h2 id="群体的观念"><a href="#群体的观念" class="headerlink" title="群体的观念"></a>群体的观念</h2><p>提供给群体的观念必须具有绝对的、毫不妥协的和简单明了的形式时，才能产生有效的影响。因此，他们都会披上形象化的外衣，也只有通过这种形式，他们才能为群众所接受。在这些形象化的观念之间，没有任何逻辑上的相似性和连续性，他们可以互相取代，这解释了为什么能看到最矛盾的观念在群体中同时流行。</p>
<p>观念只有采取简单明了的形式，才能被群体所接受，因此他必须经过一番彻底的改造，才能变得通俗易懂。但我们面对那些高深莫测的哲学或科学观念时，我们尤其会看到，为了适应群体低劣的智力水平，对他们需要进行多么深刻的改造。而这种改造通常取决于群体或群体所属的种族的性质，不过其一般趋势都是观念的低俗化和简单化。这解释了一个事实：从社会的角度看，现实中很少存在观念的等级制，一种观念，不管它出现时有多伟大或正确，那些伟大和正确的部分都会因为他进入了群体的智力范围并对他们产生影响而被剥夺殆尽。</p>
<h2 id="群体的理性"><a href="#群体的理性" class="headerlink" title="群体的理性"></a>群体的理性</h2><p>虽然前文一再说群众不会被理性思维说服，但是群体会有选择的接受一些理性，而然由于集体的智力有限，它所能接受的论证是从逻辑上极为拙劣的一种，我们可以将其称之为群体的“推理”。</p>
<p>群体推理的特点，是把彼此不同，仅仅在表面上相似的事务搅在一起，并把具体的事务普遍化。而知道如何操纵群体的人，给他们提供的也正是这种论证。我们能从种种过往的事例中发现：20本滔滔不绝的长篇论证还不如几句能对它试图说服的头脑有号召力的话。</p>
<h2 id="群体的想象力"><a href="#群体的想象力" class="headerlink" title="群体的想象力"></a>群体的想象力</h2><p>就像缺乏推理能力的人一样，群体形象化的想象力不但强大而活跃，并且非常敏感，一个人、一件事或者一次事故在头脑中唤起的形象都栩栩如生。</p>
<p>之前提到过，群体的推理能力很是可怜，因此他们不会认为世界上还有做不到的事。一般而言他们会认为，最不可能的事情便是最惊人的。一个事件中最不可思议、最传奇的一面会给群众留下最深刻的印象。实际上，我们分析一种文明文明便会发现，使它得以存在的真正基础，正是那些神奇的，传奇般的内容。在历史上，表相总是比真相起着更重要的作用，只有群体才需要历史给他们一个交代，聪明人是不需要的。</p>
<p>智慧形象思维的群体，也只能被形象思维所打动。只有形象能吸引或吓住群体，成为他们行动的动机。</p>
<p>一个十分简单的例子是戏剧和影视作品。能独立思考的任何人都知道在喜剧或影视作品中扮演坏人的人是不应担受到谴责的，而然很多时候，那些在知名作品中扮演了坏人的演员在生活中总是遇到很多烦恼，尽管他们的罪行只是想象的产物。由此可见对群体而言，虚幻的因素对于他们的影响几乎和现实一样的大。</p>
<p>侵略者的权利和国家的威严，便是建立在群体的想象力之上的。要如何影响群众的想象力？这里我们要说明的是，若想掌握这种本领，万万不能求助于智力或推理。影响民众想象力的的，并不是事情的本身，而是他们发生和引发注意的方式。必须对事件作出艺术的加工和浓缩，它们才会形成一种令人瞠目结舌的惊人形象。掌握了影响群众想象力的艺术，便掌握了统治他们的艺术。</p>
<h2 id="群体信仰采取的宗教形式"><a href="#群体信仰采取的宗教形式" class="headerlink" title="群体信仰采取的宗教形式"></a>群体信仰采取的宗教形式</h2><p>群体的信念有着盲目服从、残忍的偏执以及要求狂热的宣传等等这些宗教情感所固有的特点。因此可以说，他们的一切信念都具有宗教模式。</p>
<p>受到某个群体拥戴的英雄，在这个群体看来就是一个真正的神。拿破仑当了15年的神，即使是基督教的神和其他教派的神在对他们的信徒的头脑，也未进行过如此绝对的统治。</p>
<p>任何一个宗教或政治信条的创立者之所以能够立住脚，皆因为他们成功的激起了群众想入非非的感情，他们使群众在崇拜和服从中，找到自己的幸福，随时为自己的偶像赴汤蹈火。</p>
<p>大多数支配者人们头脑的大人物，，如今已经不再设立圣坛，但是它们还有雕像，他们的赞颂着手中还有画像，以他们为对象的崇拜行为，和他们的先辈得到的相比毫不逊色。只要深入探究一下群众心理学就会发现，群众不管需要别的什么，他们首先需要一个上帝。</p>
<p><strong>在同理性的永恒冲突中，失败的从来就不是感情。</strong></p>
<p>PS：</p>
<p>勒庞的《乌合之众》共有三卷：群体心理，群体的意见和信念，不同群体的分类及其特点。</p>
<p>我在这里结合自己的阅读体验，介绍了一下第一卷的内容，对勒庞先生的思想描述的难免有个人主观臆测之处，仅代表个人观点。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/06/22/有怀小记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/22/有怀小记/" itemprop="url">有怀小记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-22T14:46:00+08:00">
                2016-06-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/情感/" itemprop="url" rel="index">
                    <span itemprop="name">情感</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>余于六岁蒙学，今方得之万一。<br>夫子曰：学而时习之，不亦说乎。然余幼时非乐学之子，尝于课业之际嬉戏，得三五童年玩伴，引为知己，不觉六载寒暑已去。<br>总角之年，渐知格物致知之贵，始于学；时年少，多有故作惊人之举以搏人之赞，今念之亦有所感。<br>既束发，课业益重，然愈知学习之贵，虽所得不过皮毛，亦能上感星辰轮转之壮阔，下察万物演化之莫测，遂意诚。<br>未见暗度之飞星兮，获一女子之芳心，愿永结以修好兮，叹长情之难留。<br>今及弱冠已过二载，当思诚意正心修身，文以载道，学以致用。<br>心绪不定，不知所言</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/04/30/积分系统初步认识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/30/积分系统初步认识/" itemprop="url">积分系统初步认识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-30T13:07:00+08:00">
                2016-04-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂篇/" itemprop="url" rel="index">
                    <span itemprop="name">杂篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>积分的设计<br>简单的，以财务视角来看，积分分为两种：一、需要计入财务成本；二、不需要计入财务成本。</p>
<h2 id="需要计入财务成本的积分：企业货币和通用货币"><a href="#需要计入财务成本的积分：企业货币和通用货币" class="headerlink" title="需要计入财务成本的积分：企业货币和通用货币"></a>需要计入财务成本的积分：企业货币和通用货币</h2><h3 id="企业货币"><a href="#企业货币" class="headerlink" title="企业货币"></a>企业货币</h3><p>企业为了培养用户忠诚度，采用的积分模式，通常表现为航空公司的『里程』，信用卡的积分，中国移动的积分等等，你可以用这些积分来换取有价值的商品，比如免费乘坐飞机的服务，以及各种实体或虚拟的有价物品；兑换方始终是积分的直接发行方，并且兑换比例相对稳定。</p>
<h3 id="通用积分"><a href="#通用积分" class="headerlink" title="通用积分"></a>通用积分</h3><p>通用积分和企业积分的核心不同在于：通用积分的 积分兑换方不一定是积分的直接发行方。在国外有不少有名的通用积分：Nectar（英国）、Payback（德国）、OKCashBag（韩国）、Fly buys（澳大利亚）等等；但是在国内，相信你也没有听说过有哪些名气很大的通用积分吧。<br>通用积分打通了不同商家之间的用户墙，换句话说，通用积分是可能导致用户流失，这和积分模式的价值相悖，所以如果没有一个统一的资本背景或非常合理的商业模式来运作的话，通用积分是很难在市场上长期存在的并做大的。<br>以上两种积分都产生于 Loyalry Program，目的非常明确，保证用户忠诚度，避免用户流失。</p>
<h2 id="不需要计入财务成本的积分"><a href="#不需要计入财务成本的积分" class="headerlink" title="不需要计入财务成本的积分"></a>不需要计入财务成本的积分</h2><p>这一类积分就很常见了，签到得积分，转发得积分之类的活动屡见不鲜。这类积分的直接目的是引导用户行为。所能兑换的物品不一定是有价值的，比如一些论坛可以通过积分兑换改名卡之类的道具，但也可以兑换有价商品，比如淘金币抵钱，能兑换什么物品和以什么比例兑换皆由积分发行方决定。<br>这种积分诞生原因，或者换句话说，你为什么想使用这样的一个积分系统？当然你可能会很自然地说：目的当然是拉新存留促活。但随着侧重的变化，积分发放方案也可以有多重形式。<br>举个例子：<br>比如有一款软件，是一款轻应用浏览器，就是把常见 app 的网页版集中起来，然后浏览器提供良好的体验。积分发放方案可能是这样的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户向官方提交一个 web app，只要和现有的不重复，不管官方有没有收录，都奖励 100 分；攒够10000分就能换一部 iPhone6s</span><br></pre></td></tr></table></figure></p>
<p>或者这样的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户帮助官方提交一个 web app，官方收录的话，奖励 200 分，因为质量或者重复的原因拒绝了的话，就不奖励；攒够10000分就能换一部 iPhone6s</span><br></pre></td></tr></table></figure></p>
<p>对比一下就会发现不同。<br>如果我们现在已经有了很多用户，但是用户只使用几个常见的 web app，并不愿意尝试新的web app，那么我们应该采取什么样的方式发放积分呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户首次打开新的 web app 并使用 5 分钟，奖励 50 积分，每天最多获得 3 次奖励。</span><br></pre></td></tr></table></figure></p>
<p>总的来说，积分发放方案是千变万化的，要根据需求方向来设计方案，根据具体情况来确定发放数量。比如上文中的奖品是有价值的商品，那么发放积分的数量应该由预算严格控制，由用户基数和活跃度等数据进行辅助计算。假如换一个案例，奖品变成没有具体价格的虚拟物品，比如论坛的置顶卡，改名卡等等，则积分发放方案就应该由用户活跃情况等数据严格控制了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/04/12/『FoodTracker』(三)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/12/『FoodTracker』(三)/" itemprop="url">『FoodTracker』(三)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-12T14:47:00+08:00">
                2016-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天写的文章是说明如何增加一个用来评分的 button ，button的外观是五颗星星，评几分就点第几颗星星就行。<br>代码是前几天写的，今天才写了博客。开始吧。</p>
<h2 id="一个新的-swift-文件来控制评分部分"><a href="#一个新的-swift-文件来控制评分部分" class="headerlink" title="一个新的.swift 文件来控制评分部分"></a>一个新的.swift 文件来控制评分部分</h2><p>新建一个 .swift文件，起名为 RatingControl.swift  Subclass of<br><code>UIView</code><br>创建视图有两种主要方法，一种是通过代码写初始化一个视图，另一种就是通过<code>Storyboard</code>，这次试用第一种方法：<br>在代码中做个注释：<br><code>// MARK: Initialization</code><br>然后写代码，like this：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这时候Xcode会告诉你有个错误，直接点击 error 而后 <code>fix-it</code><br>之后代码变成了这样：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后再加一行代码，让你的代码看上去像是这样：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="显示自定义视图"><a href="#显示自定义视图" class="headerlink" title="显示自定义视图"></a>显示自定义视图</h2><p>打开 Storyboard ,拖一个 view 对象到 stack 中，放在 image view 下面<br>然后选中 view 对象的尺寸检查器（Size inspector），在尺寸检查器最下面的地方，选择<code>Placeholder</code>，其中高度填写 44，宽度填写 240<br>接下来，选择 view 对象的身份检查器（Identity inspector），将其第一行的 Class 选为<code>RatingControl</code></p>
<h2 id="给视图中增加-Button"><a href="#给视图中增加-Button" class="headerlink" title="给视图中增加 Button"></a>给视图中增加 Button</h2><p>###创建一个 button<br>在初始化函数（<code>init?(coder:)</code>）中，写代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">button.backgroundColor = <span class="type">UIColor</span>.blueColor()</span><br></pre></td></tr></table></figure></p>
<p>第一行定义了  button 并经行了初始化，这里是一个正方形，我们是要用星星评分，所以这个代码等会会改<br>第二行是为了让 button 显示个颜色，方便观察，这行代码等会要删掉<br>然后再加一行代码，用来把创建的按钮加到视图中去<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addSubview(button)</span><br></pre></td></tr></table></figure></p>
<p>现在你的代码看上去应该是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>为了告诉堆栈视图（stack view）怎么去布置 button ，我们要提供给他一个button需要占据的尺寸，代码这样写：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">intrinsicContentSize</span><span class="params">()</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGSize</span>(width: <span class="number">240</span>, height: <span class="number">44</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在可以运行一下你的程序了，正确的样子应该是图片视图下面出现了一个 蓝色的正方形</p>
<h3 id="现在，给-button-加-action"><a href="#现在，给-button-加-action" class="headerlink" title="现在，给 button 加 action"></a>现在，给 button 加 action</h3><p>给 button 加上一个动作很简单，我们举个例子：当我们点击 button 时，就会输出『 Button pressed 👍』<br>做法很简单：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Button pressed 👍"</span>)</span><br></pre></td></tr></table></figure></p>
<p>动作写好了，现在让 button 知道自己有这么一个动作要执行<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>) <span class="comment">//第二个参数是要采用哪个action方法，第三个参数是针对哪种事件，".TouchDown"指的是『按下去』这个事件</span></span><br></pre></td></tr></table></figure></p>
<p><code>addTarget()</code>这个方法的作用是将一个操作对象和方法与控件相连接。<br>现在你的代码是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK :Initialization</span></span><br><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">intrinsicContentSize</span><span class="params">()</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGSize</span>(width: <span class="number">240</span>, height: <span class="number">44</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//// MARK: Button Action</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Button pressed 👍"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在运行你的程序，点击蓝色小方块，你就可以从 Xcode 的控制台看到 『Button pressed 👍』，点多少下就显示多少行哦</p>
<h3 id="添加评分属性"><a href="#添加评分属性" class="headerlink" title="添加评分属性"></a>添加评分属性</h3><p>开始写一些属性啦：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: Properties</span></span><br><span class="line"><span class="keyword">var</span> rating = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> ratingButtons = [<span class="type">UIButton</span>]()</span><br></pre></td></tr></table></figure></p>
<p>到此为止我们有了一个button ，但是我们要做一个五分制的评分系统，所以我们要多弄几个 button，这个很容易，加个 <code>for-in</code> 循环就行:<br>你之前的代码是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在增加一个循环：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">5</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">    button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">    button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">    addSubview(button)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后在 <code>addSubview(button)</code> 上面加一行<br><code>ratingButtons += [button]</code><br>这一行是用来保证你在新加了 button 后能保证你的分数和 button 数能对得上</p>
<p>现在你的 <code>init</code>看上去是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">5</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        button.backgroundColor = <span class="type">UIColor</span>.redColor()</span><br><span class="line">        button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>)</span><br><span class="line">        ratingButtons += [button]</span><br><span class="line">        addSubview(button)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###按钮的布局<br>在 RatingControl.swift 文件里， <code>init?（coder:）</code>方法下面，加一行注释<code>MARK: Initialization</code><br>并写下代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在这个方法中，加上几行代码<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> button <span class="type">Frame</span> = <span class="type">CGRect</span>(x:<span class="number">0</span> ,y:<span class="number">0</span>, width:<span class="number">44</span> , height: <span class="number">44</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置每一个评分星星的起点</span></span><br><span class="line"><span class="keyword">for</span>(index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">    buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (<span class="number">44</span> + <span class="number">5</span>))</span><br><span class="line">    button.frame = buttonFrame</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在，layoutSubviews() 方法看上去是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">44</span>, height: <span class="number">44</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Offset each button's origin by the length of the button plus spacing.</span></span><br><span class="line">    <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">        buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (<span class="number">44</span> + <span class="number">5</span>))</span><br><span class="line">        button.frame = buttonFrame</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在可以运行一下你的程序了，一切顺利的话，你会看到有五个蓝色正方形</p>
<h2 id="给星星按钮间距和星星按钮的数量加上属性"><a href="#给星星按钮间距和星星按钮的数量加上属性" class="headerlink" title="给星星按钮间距和星星按钮的数量加上属性"></a>给星星按钮间距和星星按钮的数量加上属性</h2><p>注意：如果你在星星的个数和星星间的距离使用了『5』这个值，这就有点糟糕了，要知道在代码中分散的写死某一个值并不是个好主意，以后要是想改的话，会非常难过。<br>所以呢，我们应该声明两个值：星星的数量和星星间的距离。</p>
<h3 id="增加属性"><a href="#增加属性" class="headerlink" title="增加属性"></a>增加属性</h3><p>在 RatingControl.swift 文件里，<code>class RatingControl(){}</code>中，加上下面的代码<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: Properties</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> rating = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> ratingButtons = [<span class="type">UIButton</span>]()</span><br></pre></td></tr></table></figure></p>
<p>在上面的属性后面再加上：<br><code>let spacing  = 5</code><br>这样就固定了星星之间的距离<br>在 <code>layoutSubViews</code> 中，把你之前写死的那些值都换掉<br>之前是：   <code>buttonFrame.origin.x = CGFloat(index * (44 + 5))</code><br>现在换成：<code>buttonFrame.origin.x = CGFloat(index * (44 + spacing))</code><br>当然，别忘了把星星数量的值也用变量替换一下：<br>在写属性的地方加上一行代码：<code>let starCount = 5</code><br>然后修改 init？{} 方法中的代码<br>之前是：<code>for _ in 0..&lt;5 {</code><br>现在换成：<code>for _ in 0 ..&lt; starCount {</code></p>
<p>现在运行一下程序，一切都和之前看上去一样</p>
<h2 id="声明一个常量用于表示星星形状按钮的尺寸"><a href="#声明一个常量用于表示星星形状按钮的尺寸" class="headerlink" title="声明一个常量用于表示星星形状按钮的尺寸"></a>声明一个常量用于表示星星形状按钮的尺寸</h2><p>你应该还记得星星形状按钮的尺寸是 44 吧，这是一个写死的值，现在需要改变这个糟糕的情况。<br>在<code>layoutSubviews()</code>方法中，加一行代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用frame 的高度去设置正方形按钮的边长</span></span><br><span class="line"><span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br></pre></td></tr></table></figure></p>
<p>这样一来，按钮的尺寸就更加灵活了<br>现在把代码中的 “44”替换成 <code>buttonSize</code><br>替换后应该是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: buttonSize, height: buttonSize)</span><br><span class="line"> </span><br><span class="line"><span class="comment">//从第二个开始，每个都往后挪"spacing"的长度</span></span><br><span class="line"><span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">    buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (buttonSize + spacing))</span><br><span class="line">    button.frame = buttonFrame</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在在<code>intrinsicContentSize()</code>方法中设置一下评分按钮整体在 stack view 中占据的尺寸<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line"><span class="keyword">let</span> width = (buttonSize * starCount) + (spacing * (starCount - <span class="number">1</span>))</span><br><span class="line"><span class="keyword">return</span> <span class="type">CGRact</span>(width:width, height:buttonSize)</span><br></pre></td></tr></table></figure></p>
<p>接下来把 init？{}方法中的第一行代码改成下面的样子：<br><code>let button = UIButton()</code><br>因为你已经在<code>layoutSubviews() {}</code>方法中设置好 button 的尺寸了。<br>现在你的 <code>layoutSubviews() {}</code>方法看上去是这个样子的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line">        <span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: buttonSize, height: buttonSize)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//从第二个开始，每个都往后挪 5</span></span><br><span class="line">        <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">            buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (buttonSize + spacing))</span><br><span class="line">            button.frame = buttonFrame</span><br><span class="line">        &#125;</span><br><span class="line">        updateButtonsSelectionStates()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>你的 <code>intrinsicContentSize() -&gt;CGSize{}</code>方法看上去是这样的<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">intrinsicContentSize</span><span class="params">()</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line">    <span class="keyword">let</span> width = buttonSize * stars + spacing * (starCount - <span class="number">1</span>)        </span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGSize</span>(width: width, height: buttonSize)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>你的 init？(){} 函数看上去是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//MARK :Initialization</span></span><br><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span> ..&lt; starCount&#123;</span><br><span class="line">        <span class="keyword">let</span> button = <span class="type">UIButton</span>()</span><br><span class="line">        button.backgroudColor = <span class="type">UIColor</span>.blueColor()             </span><br><span class="line">        button.adjustsImageWhenHighlighted = <span class="literal">false</span>  <span class="comment">//用来确保不会有一个意外的高亮</span></span><br><span class="line"></span><br><span class="line">        button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>) <span class="comment">//第二个参数是action是什么效果，第三个参数是针对哪种事件， .TouchDown 指的是『按下去』这个事件</span></span><br><span class="line">        ratingButtons += [button]</span><br><span class="line">        addSubview(button) <span class="comment">//将我创建的「button」添加到屏幕上</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="把-Button-现在的方块外观换成星星"><a href="#把-Button-现在的方块外观换成星星" class="headerlink" title="把 Button 现在的方块外观换成星星"></a>把 Button 现在的方块外观换成星星</h2><p>在这，你需要两个星星的图标，一个空心的，一个实心的，自己画一个或者去下载吧，记得两种星星要能重合。</p>
<p>###把图片加入到你的项目里<br>获得这两个星星的图片后，把它们放到 Assets.xcassets 中去，并分别起名为：emptyStar 和 filledStar<br>并且把他们拖到 “2x”这个地方来，这个大小比较适合 iphone 5s 和 6s 的尺寸。<br>为了看上去更整齐，在Assets.xcassets的列表中，右击，选择 New Floder ，并且给这个文件夹命名为 “Rating image”，然后把两个星星图标都拖进去。</p>
<h2 id="把星星图标用于-button"><a href="#把星星图标用于-button" class="headerlink" title="把星星图标用于 button"></a>把星星图标用于 button</h2><p>在 <code>RatingControl.swift</code> 文件的 <code>init？(coder:){}</code> 方法中，加入两行代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> filledStarImage = <span class="type">UIImage</span>(named: <span class="string">"filledStar"</span>)</span><br><span class="line"><span class="keyword">let</span> emptyStarImage = <span class="type">UIImage</span>(named: <span class="string">"emptyStar"</span>)</span><br></pre></td></tr></table></figure></p>
<p>然后加 for-in 循环中加入下列代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.setImage(emptyStarImage, forState: .Normal)</span><br><span class="line">button.setImage(filledStarImage, forState: .Selected)</span><br><span class="line">button.setImage(filledStarImage, forState: [.Highlighted, .Selected])</span><br></pre></td></tr></table></figure></p>
<p>并删掉下面这行之前我们用来给按钮赋予颜色的代码：<br><code>button.backgroundColor = UIColor.blueColor()</code><br>然后增加一行代码确保不会出现意料之外的高亮效果：<br><code>button.adjustsImageWhenHighlighted = false</code><br>现在，<code>init?(coder:){}</code> 方法是这个样子的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//MARK :Initialization</span></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> filledStarImage = <span class="type">UIImage</span>(named: <span class="string">"filledStar"</span>)</span><br><span class="line">        <span class="keyword">let</span> emptyStarImage = <span class="type">UIImage</span>(named: <span class="string">"emptyStar"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span> ..&lt; stars &#123;</span><br><span class="line">            <span class="keyword">let</span> button = <span class="type">UIButton</span>()</span><br><span class="line">            </span><br><span class="line">            button.setImage(emptyStarImage, forState: .<span class="type">Normal</span>)</span><br><span class="line">            button.setImage(filledStarImage, forState: .<span class="type">Selected</span>)</span><br><span class="line">            button.setImage(filledStarImage, forState: [.<span class="type">Highlighted</span>, .<span class="type">Selected</span>])</span><br><span class="line">            </span><br><span class="line">            button.adjustsImageWhenHighlighted = <span class="literal">false</span>  <span class="comment">//用来确保不会有一个意外的高亮</span></span><br><span class="line"></span><br><span class="line">            button.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">RatingControl</span>.ratingButtonTapped(<span class="number">_</span>:)), forControlEvents: .<span class="type">TouchDown</span>) <span class="comment">//第二个参数是action是什么效果，第三个参数是针对哪种事件， .TouchDown 指的是『按下去』这个事件</span></span><br><span class="line">            ratingButtons += [button]</span><br><span class="line">            addSubview(button) <span class="comment">//将我创建的「button」添加到屏幕上</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">```   </span><br><span class="line">## 执行 <span class="type">Button</span> action 的动作</span><br><span class="line">在` <span class="type">RatingControl</span>.swift`, 找到 `ratingButtonTapped(<span class="number">_</span>:) `方法:</span><br><span class="line">``` swift</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Button pressed 👍"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后把 <code>print(&quot;Button pressed 👍&quot;)</code>这行代码换成下列代码：<br><code>rating = ratingButtons.indexOf(button)! + 1</code></p>
<p>在<code>updateButtonSelectionStates()</code>方法中加一个 <code>for-in</code>循环<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">            button.selected = index &lt; rating  <span class="comment">//按钮值小于额定值时，选择按钮的值</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<p>在<code>ratingButtonTapped(_:)</code>方法中的<code>rating = ratingButtons.indexOf(button)! + 1</code>下面，加一行代码<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ratingButtonTapped</span><span class="params">(button:UIButton)</span></span> &#123;</span><br><span class="line">        rating = ratingButtons.indexOf(button)! + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        updateButtonsSelectionStates()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>在 <code>layoutSubviews()</code> 方法中的最后, 加上 <code>to updateButtonSelectionStates()</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> buttonSize = <span class="type">Int</span>(frame.size.height)</span><br><span class="line">    <span class="keyword">var</span> buttonFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: buttonSize, height: buttonSize)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//从第二个开始，每个都往后挪 5</span></span><br><span class="line">    <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">        buttonFrame.origin.x = <span class="type">CGFloat</span>(index * (buttonSize + spacing))</span><br><span class="line">        button.frame = buttonFrame</span><br><span class="line">    &#125;</span><br><span class="line">    updateButtonsSelectionStates()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在 <code>// MARK: Properties</code>部分，找到<br><code>var rating = 0</code><br>把它改成：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rating = <span class="number">0</span> &#123;</span><br><span class="line">       <span class="keyword">didSet</span> &#123;</span><br><span class="line">           setNeedsLayout()</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>现在你的<code>updateButtonSelectionStates()</code> 方法看上去是这样的：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateButtonSelectionStates</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (index, button) <span class="keyword">in</span> ratingButtons.<span class="built_in">enumerate</span>() &#123;</span><br><span class="line">        button.selected = index &lt; rating<span class="comment">//按钮值小于额定值时，选择按钮的值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="把代码和视图联系起来"><a href="#把代码和视图联系起来" class="headerlink" title="把代码和视图联系起来"></a>把代码和视图联系起来</h2><p>把 Storyboard 中的按钮部分 通过 control-drag 连接到 ViewController.swift 名字定位 “ratingControl” 类型为”RatingControl”</p>
<h2 id="调整"><a href="#调整" class="headerlink" title="调整"></a>调整</h2><p>现在可以自由的把你的视图调整一下了，喜欢居中就把 imageView 和 button Label 都在居中一下<br>在 ViewController.swift文件中, 删了<code>setDefaultLabelText(_:)</code>方法<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">setDefaultLabelText</span><span class="params">(sender: UIButton)</span></span> &#123;</span><br><span class="line">    mealNameLabel.text = <span class="string">"Default Text"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>本部分结束，现在可以运行一下程序啦！<br>这个程序可以从<a href="https://developer.apple.com/sample-code/swift/downloads/Start-Dev-iOS-Apps-05.zip" target="_blank" rel="noopener">这个链接</a>下载到</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://cheri.love/2016/04/04/『FoodTracker』(二)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fengqiyue.cheri">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫祺玥的小客栈">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/04/『FoodTracker』(二)/" itemprop="url">『FoodTracker』(二)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-04T17:53:00+08:00">
                2016-04-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这次实现一个选取相册内照片的功能</p>
<h2 id="把-UI-先准备一下"><a href="#把-UI-先准备一下" class="headerlink" title="把 UI 先准备一下"></a>把 UI 先准备一下</h2><p>在上次的基础上，加一个 imageView，当用户点击这个 iamgeView 的时候，会打开此设备上的相册，用户选择的照片就会出现在 imageView 中。<br>Here We go.<br>在 <code>storyBoard</code>的 <code>Object Library</code>中拖一个 <code>imageView</code>到 上次做的<code>button</code>下面，在<code>Size inspector</code>将其 <code>intrinsic Size</code> 选择为 <code>placeholder</code>，并把<code>width</code>和<code>Height</code>都设置为 320。<br>然后加个 1:1 aspect ratio 的约束来限制形状。<br>接下来，从电脑里拉个图过来放到<code>Assetsxcassets</code>文件中，把名字改为<code>defaultphoto</code>,(放在 2x 的那个位置，这个尺寸合适 ipone6，6s)，之后记得在<code>Storyboard</code>的<code>imageView</code>的<code>Attributes inspector</code>里，把 <code>image</code> 设置为 <code>defaultphoto</code></p>
<h2 id="把-StoryBoard-的东西通过-“Control-drag”-到代码"><a href="#把-StoryBoard-的东西通过-“Control-drag”-到代码" class="headerlink" title="把 StoryBoard 的东西通过 “Control-drag” 到代码"></a>把 StoryBoard 的东西通过 “Control-drag” 到代码</h2><p>选择 <code>imageView</code> and “Control-drag” 到<code>ViewControl.swift</code>文件，并起名为<code>photoImageView</code>,<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> photoImageView: <span class="type">UIImageView</span>!</span><br></pre></td></tr></table></figure></p>
<h2 id="为-imageView-创建一个『tap』手势"><a href="#为-imageView-创建一个『tap』手势" class="headerlink" title="为 imageView 创建一个『tap』手势"></a>为 <code>imageView</code> 创建一个『tap』手势</h2><p>从<code>Object Library</code>中拖一个 <code>tap gesture</code>到 <code>imageView</code>上面去。<br>然后把 <code>tap gesture</code>通过 “Control-drag”连接到<code>ViewControl.swift</code>文件，起名为<code>selectImageFromPhotoLibrary</code>，类型选择为 <code>UITapGestureRecognize</code><br>like this:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">selectImageFromPhotoLibrary</span><span class="params">(sender: UITapGestureRecognizer)</span></span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>先在这个方法中加行代码来确保用户如果点击了图片区域，键盘会自动隐藏起来<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//隐藏键盘</span></span><br><span class="line">nameTextField.resignFirstResponder()</span><br></pre></td></tr></table></figure></p>
<p>然后创建一个 image picker controller<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UIImagePickerController 是个用来让用户选择图片的 view controller</span></span><br><span class="line"><span class="keyword">let</span> imagePickerController = <span class="type">UIImagePickerController</span>()</span><br></pre></td></tr></table></figure></p>
<p>再加一行代码,干吗用的注释说的很清楚了：只能选，不能干别的<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Only allow photos to be picked, not taken.</span></span><br><span class="line">imagePickerController.sourceType = .<span class="type">PhotoLibrary</span></span><br></pre></td></tr></table></figure></p>
<p>设置一下代理<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Make sure ViewController is notified when the user picks an image.</span></span><br><span class="line">imagePickerController.delegate = <span class="keyword">self</span></span><br></pre></td></tr></table></figure></p>
<p>最后，加一行代码,目的是：当用户选了图片的时候，确保 ViewController 被通知<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">presentViewController(imagePickerController, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure></p>
<p>Ok，现在我们完成了<code>selectImageFromPhotoLibrary</code>方法，接下来干另一件事：写一下<code>UIImagePickerControllerDelegate</code>的方法。</p>
<p>在<code>selectImageFromPhotoLibrary()</code>方法外面，我们需要写两个方法：<code>imagePickerControllerDidCancel()</code>和<code>imagePickerController()</code>这个方法属于 UIImagePickerControllerDelegate.<br>代码如下：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: UIImagePickerControllerDelegate</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">imagePickerControllerDidCancel</span><span class="params">(picker: UIImagePickerController)</span></span> &#123;</span><br><span class="line">        <span class="comment">// 用户取消的话，释放 picker</span></span><br><span class="line">        dismissViewControllerAnimated(<span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">imagePickerController</span><span class="params">(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject])</span></span> &#123;</span><br><span class="line">        <span class="comment">// 获得被选中的图片</span></span><br><span class="line">        <span class="keyword">let</span> selectedImage = info[<span class="type">UIImagePickerControllerOriginalImage</span>] <span class="keyword">as</span>! <span class="type">UIImage</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//把选中的图片传给 photoImage </span></span><br><span class="line">        photoImageView.image = selectedImage</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//释放 Picker</span></span><br><span class="line">        dismissViewControllerAnimated(<span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>这样就行了，可以运行 app 啦。<br>值得注意的是，这次用到的代理有两个：<code>UIImagePickerControllerDelegate</code>,<code>UINavigationControllerDelegate</code>,因为<br>想用前者的话，必须要用到后者，所以都要写上，像这样：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITextFieldDelegate</span>, <span class="title">UIImagePickerControllerDelegate</span>, <span class="title">UINavigationControllerDelegate</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>不然会报错的。</p>
<p><strong>最后说一个我犯得错误，浪费我很久时间，这个错误是『当我点击图片的时候，死活都不会弹出来相册』，最后我发现原因在于：StoryBoard 中，查看 ImageView 的 Attribut inspector，其中有一项叫做 “interacion”,它有两个可选的属性”User Interaction Enable”和”Multiple touch”，如果你没有在”User Interaction Enable”前面的小方框中打钩的话，程序是不会弹出相册的，引以为戒</strong><br>如果你还是运行不顺利的话，记得仔细观察一下 StroyBoard 中的各种组件是否都正确的关联起来了。<br>这个程序可以从<a href="https://developer.apple.com/sample-code/swift/downloads/Start-Dev-iOS-Apps-04.zip" target="_blank" rel="noopener">这个链接</a>下载到</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">fengqiyue.cheri</p>
              <p class="site-description motion-element" itemprop="description">枫祺玥的小客栈，写博客的自留地</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/fengqiyue" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:mynameiszhangxu@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fengqiyue.cheri</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
